<!DOCTYPE html>
<!-- saved from url=(0245)https://viettelfamily.com/comments?permalink=https%3A%2F%2Fviettelfamily.com%2Fnews%2Fchuyen-dich-so%2Fnetmind-2o-tro-thu-dac-luc-cho-luc-luong-ky-thuat-vtnet&page_id=54812&commentable_id=54812&commentable_type=Dcore.Blog.Models.Post&style=light -->
<html lang="en" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> VTF-WEB</title>
    <!--<base target="_parent">--><base href="." target="_parent">
    <link rel="stylesheet" type="text/css" href="./bootstrap(1).css">
    <link rel="stylesheet" type="text/css" href="./all.css">

            <link rel="stylesheet" type="text/css" href="./style(1).css" media="all">
    
    <link rel="stylesheet" type="text/css" href="./font-awesome.css">
    <link rel="stylesheet" type="text/css" href="./emoji.css">
    <link rel="stylesheet" type="text/css" href="./toastr(1).min.css">
    <script src="./jquery-2.2.3.min.js.download"></script>
    <script src="./toastr.min(1).js.download"></script>
    <link rel="stylesheet" type="text/css" href="./jquery.fancybox.css">
    <link href="./bootstrap(1).min.css" type="text/css" rel="stylesheet">
    <link href="./main.css" type="text/css" rel="stylesheet">
<style>
.box-write-comment .form-group {
  max-height: none !important;
}
.box-write-comment.reply .form-group {
  max-height: none !important;
}
.content-cmt .cmt-1 {
  padding-right: 10px !important;
}
.content-cmt .avatar-user img {
  margin: 0;
  width: 55px;
  height: 55px;
  border-radius: 8px;
  -o-object-fit: cover;
     object-fit: cover;
  -o-object-position: center;
     object-position: center;
}
@media (min-width: 760px) {
.btnCommentMobile {
    display: none;
}
}
@media (max-width: 756px) {
.cmt-1 .avatar-user {
    flex: 0 0 10% !important;
}
.comment-reply .avatar-user img, .content-cmt2 .cmt-1 .avatar-user img, .content-cmt .avatar-user img {
    width: 30px !important;
    height: 30px !important;
    -o-object-fit: cover;
       object-fit: cover;
    -o-object-position: center;
       object-position: center;
}
.comment-reply .cmt-1 .avatar-user {
    width: 10%;
}
.comment-webview .comment-input .content-comment {
    position: fixed;
    bottom: 2%;
    width: 98% !important;
}
.btnzoomComment {
    display: none;
}
.content-comment {
    position: relative;
}
.upload-image {
    display: none;
}
.emoji-picker-icon {
    display: none;
}
@media (max-width: 760px) {
.box-write-comment .form-group {
      padding-right: 50px !important;
}
}
.btnCommentMobile {
    display: block;
    position: absolute;
    right: 5%;
    background: none;
    color: #ee0033;
    top: 10%;
    font-size: 18px;
}
.btnCommentMobile:focus {
    outline: none !important;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.0);
}
.reply-input .avatar-user {
    display: none;
}
.reply-input .cmt-1 .content-comment {
    width: 100% !important;
    padding: 0;
}
.comment-input .cmt-1 {
    padding-left: 3px !important;
}
.comment-input .cmt-1 .avatar-user {
    display: none;
}
.comment-input .cmt-1 .content-comment {
    width: 100%;
    padding: 0;
}
}
.clDisable {
  color: #ee0033 !important;
}
mention_email, .atwho-inserted, mention_sms {
  background: #EEE;
  padding: 0px 5px;
}
.emoji-menu {
  bottom: 85px;
}
.content-cmt .content-comment1 .box-comment {
  height: 55px;
  line-height: 28px;
}
.comment-parent .upload-image, .comment-parent .emoji-picker-icon {
  top: 20%;
  font-size: 17px;
}
.comment-reply .emoji-picker-icon {
  top: 15%;
  right: 3%;
  font-size: 17px;
}
.comment-reply .upload-image {
  top: 15%;
  right: 6%;
  font-size: 17px;
}
.comment-parent .upload-image {
  right: 7%;
}
.comment-parent .emoji-picker-icon {
  right: 4%;
}
.load-cmt a:focus {
  color: #ee0033 !important;
}
.preview_image {
  width: 200px !important;
  position: relative;
}
.preview_image img {
  width: 200px !important;
}
.preview_image .btn-close {
  position: absolute;
  right: 0px;
  top: 0px;
  font-size: 20px;
  color: #999;
  cursor: pointer;
}
.preview_image:hover .btn-close {
  color: red;
}
.fancybox img {
  width: 250px;
  display: inherit;
}
.info-items a:hover, a:focus {
  color: #ee0033;
}
.loadding_comment {
  z-index: 999999;
  left: 15px;
  top: 275px
}
#fillterRelpy {
  margin-left: 78px;
}
.time a:focus {
  color: #ee0033 !important;
}
.newHot {
  cursor: pointer;
}
.newHot:hover, .newHot:focus {
  color: #ee0033 !important;
}
.dropdown-item:active, .dropdown-item:hover {
  background-color: #ee0033 !important;
  color: #fff !important;
}
.content-comment {
  position: relative;
  display: inline-block;
}

/* .comments-you-read span.newHot {
    color:unset !important;
} */
.avt img{
  border-radius: 50%;
}
.btn-iconComment {
  display: none;
  position: absolute;
  z-index: 1;
  right: 0;
  top: 10%;
}
#dropComments {
  left: unset !important;
}
.content-comment:hover .btn-iconComment {
  display: block;
}
.btn-iconDots {
  border: none;
  background: transparent;
  color: #CCCBCB;
  font-size: 20px;
}
.active {
  color: #ee0033 !important;
}
.comment-parent .emoji-picker-icon, .comment-parent .upload-image {
  z-index: 0;
}
.like_webview {
  display: none !important;
}
.comments-you-read {
  border-bottom: 3px solid #ee0033;
}
.vtf_comment .comments-you-read, .comment_webview .comments-you-read {
  border-bottom: 3px solid #ee0033;
}
.btn-comment {
  font-size: 13px;
  background: #ee0033;
  color: #fff;
}
.vtf_comment .btn-comment, .comment_webview .btn-comment {
  font-size: 13px;
  background: #ee0033;
  color: #fff;
}
.cmt-amount a:hover {
  color: #ee0033;
}
.followColor {
  color: #ee0033;
}
.vtf_comment .cmt-amount a:hover, .comment_webview .cmt-amount a:hover {
  color: #ee0033;
}
.vtf_comment .followColor, .comment_webview .followColor {
  color: #ee0033;
}
::v-deep .cmt-1 {
  margin-bottom: 0 !important;
  margin-top: 0 !important;
}
::v-deep .content-cmt2 {
  margin-left: 0px !important;
}
@media (max-width: 575px) {
.emoji-picker-icon {
    display: none!important;
}
}
@media (max-width: 760px)
{
.emoji-picker-icon {
    display: block!important;
}
}
.emoji-picker-icon {
  right: 7% !important;
}

/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Jlc291cmNlcy9hc3NldHMvanMvY29tcG9uZW50cy9Db21tZW50cy52dWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQTh5REE7RUFDQSwyQkFBQTtBQUNBO0FBRUE7RUFDQSwyQkFBQTtBQUNBO0FBRUE7RUFDQSw4QkFBQTtBQUNBO0FBRUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0tBQUEsaUJBQUE7RUFDQSwwQkFBQTtLQUFBLHVCQUFBO0FBQ0E7QUFFQTtBQUNBO0lBQ0EsYUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0lBQ0Esd0JBQUE7QUFDQTtBQUVBO0lBQ0Esc0JBQUE7SUFDQSx1QkFBQTtJQUNBLG9CQUFBO09BQUEsaUJBQUE7SUFDQSwwQkFBQTtPQUFBLHVCQUFBO0FBQ0E7QUFFQTtJQUNBLFVBQUE7QUFDQTtBQUVBO0lBQ0EsZUFBQTtJQUNBLFVBQUE7SUFDQSxxQkFBQTtBQUNBO0FBRUE7SUFDQSxhQUFBO0FBQ0E7QUFFQTtJQUNBLGtCQUFBO0FBQ0E7QUFFQTtJQUNBLGFBQUE7QUFDQTtBQUVBO0lBQ0EsYUFBQTtBQUNBO0FBRUE7QUFDQTtNQUNBLDhCQUFBO0FBQ0E7QUFDQTtBQUVBO0lBQ0EsY0FBQTtJQUNBLGtCQUFBO0lBQ0EsU0FBQTtJQUNBLGdCQUFBO0lBQ0EsY0FBQTtJQUNBLFFBQUE7SUFDQSxlQUFBO0FBQ0E7QUFFQTtJQUNBLHdCQUFBO0lBQ0EsK0NBQUE7QUFDQTtBQUVBO0lBQ0EsYUFBQTtBQUNBO0FBRUE7SUFDQSxzQkFBQTtJQUNBLFVBQUE7QUFDQTtBQUVBO0lBQ0EsNEJBQUE7QUFDQTtBQUVBO0lBQ0EsYUFBQTtBQUNBO0FBRUE7SUFDQSxXQUFBO0lBQ0EsVUFBQTtBQUNBO0FBQ0E7QUFFQTtFQUNBLHlCQUFBO0FBQ0E7QUFFQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFDQTtBQUVBO0VBQ0EsWUFBQTtBQUNBO0FBRUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7QUFDQTtBQUVBO0VBQ0EsUUFBQTtFQUNBLGVBQUE7QUFDQTtBQUVBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxlQUFBO0FBQ0E7QUFFQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsZUFBQTtBQUNBO0FBRUE7RUFDQSxTQUFBO0FBQ0E7QUFFQTtFQUNBLFNBQUE7QUFDQTtBQUVBO0VBQ0EseUJBQUE7QUFDQTtBQUVBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtBQUNBO0FBRUE7RUFDQSx1QkFBQTtBQUNBO0FBRUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0FBQ0E7QUFFQTtFQUNBLFVBQUE7QUFDQTtBQUVBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBQ0E7QUFFQTtFQUNBLGNBQUE7QUFDQTtBQUVBO0VBQ0EsZUFBQTtFQUNBLFVBQUE7RUFDQTtBQUNBO0FBRUE7RUFDQSxpQkFBQTtBQUNBO0FBRUE7RUFDQSx5QkFBQTtBQUNBO0FBRUE7RUFDQSxlQUFBO0FBQ0E7QUFFQTtFQUNBLHlCQUFBO0FBQ0E7QUFFQTtFQUNBLG9DQUFBO0VBQ0Esc0JBQUE7QUFDQTtBQUVBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtBQUNBOztBQUVBOztHQUVBO0FBQ0E7RUFDQSxrQkFBQTtBQUNBO0FBQ0E7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsUUFBQTtFQUNBLFFBQUE7QUFDQTtBQUVBO0VBQ0Esc0JBQUE7QUFDQTtBQUVBO0VBQ0EsY0FBQTtBQUNBO0FBRUE7RUFDQSxZQUFBO0VBQ0EsdUJBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtBQUNBO0FBRUE7RUFDQSx5QkFBQTtBQUNBO0FBRUE7RUFDQSxVQUFBO0FBQ0E7QUFFQTtFQUNBLHdCQUFBO0FBQ0E7QUFFQTtFQUNBLGdDQUFBO0FBQ0E7QUFFQTtFQUNBLGdDQUFBO0FBQ0E7QUFFQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7QUFDQTtBQUVBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtBQUNBO0FBRUE7RUFDQSxjQUFBO0FBQ0E7QUFFQTtFQUNBLGNBQUE7QUFDQTtBQUVBO0VBQ0EsY0FBQTtBQUNBO0FBRUE7RUFDQSxjQUFBO0FBQ0E7QUFFQTtFQUNBLDJCQUFBO0VBQ0Esd0JBQUE7QUFDQTtBQUVBO0VBQ0EsMkJBQUE7QUFDQTtBQUNBO0FBQ0E7SUFDQSx1QkFBQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtJQUNBLHdCQUFBO0FBQ0E7QUFDQTtBQUNBO0VBQ0Esb0JBQUE7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbIjx0ZW1wbGF0ZT5cclxuICA8c2VjdGlvbiBpZD1cImNvbW1lbnQtc2VjdGlvblwiPlxyXG4gICAgPGRpdiBjbGFzcz1cIndyYXAtY29tbWVudFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29tbWVudC1wcmlcIj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cImFtb3VudC1saWtlIG1yLTVcIiB2LWlmPVwibG9nZ2VkSW5cIj5cclxuICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiBjbGFzcz1cImNoYW5nZVRleHRcIiBAY2xpY2s9XCJsaWtlUG9zdFwiPlxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cImZhciBmYS10aHVtYnMtdXBcIiA6Y2xhc3M9XCJ7Zm9sbG93Q29sb3I6IGNoZWNrTGlrZVBvc3R9XCI+PC9pPlxyXG4gICAgICAgICAgICA8c3BhbiB2LWlmPVwiIWNoZWNrTGlrZVBvc3RcIj5UaMOtY2g8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJjaGVja0xpa2VQb3N0XCIgY2xhc3M9XCJmb2xsb3dDb2xvclwiPsSQw6MgdGjDrWNoPC9zcGFuPlxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLWNpcmNsZS1vLW5vdGNoIGZhLXNwaW4gY2xEaXNhYmxlXCIgdi1pZj0nbGlrZScgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxyXG4gICAgICAgICAgPC9hPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cImFtb3VudC1jb21tZW50XCIgdi1pZj1cImxvZ2dlZEluXCI+XHJcbiAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgY2xhc3M9XCJidG4tZm9jdXNcIiBAY2xpY2s9XCJmb2N1c0NvbW1lbnRcIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtY29tbWVudC1kb3RzIHJvdGF0ZVwiPjwvaT5cclxuICAgICAgICAgICAgJm5ic3A7IELDrG5oIGx14bqtblxyXG4gICAgICAgICAgPC9hPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZC1jb21tZW50XCIgIHYtaWY9XCJsb2dnZWRJblwiPlxyXG4gICAgICAgICAgPGgzIGNsYXNzPVwidGl0bGVcIj7DnSBraeG6v24gYuG6oW4gxJHhu41jPC9oMz5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tbG9naW4tY29tbWVudFwiIHYtaWY9XCIhbG9nZ2VkSW5cIj4gPGEgY2xhc3M9XCJidG5Mb2dpbl9tb2RlbFwiIGhyZWY9XCIvbG9naW5cIj7EkMSDbmcgbmjhuq1wPC9hPjwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250cm9sLWNvbW1lbnRcIiB2LWlmPVwibG9nZ2VkSW5cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJudW0tcmVhY3Rpb25cIj48aSBjbGFzcz1cImZhcyBmYS10aHVtYnMtdXBcIj48L2k+IHt7IGNvdW50TGlrZVBvc3QgfX0gbmfGsOG7nWkgdGjDrWNoIGLDoGkgdmnhur90PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicHVsbC1yaWdodCBjaGVja1wiIHYtaWY9XCJ0b3RhbENvbW1lbnQgPiAzXCI+XHJcbiAgICAgICAgICAgIDxzcGFuIHYtZm9yPVwiKG9wdGlvbiwgaW5kZXgpIGluIG9wdGlvbnNcIiA6a2V5PVwiaW5kZXhcIiBAY2xpY2s9XCJmaWxsdGVyRGF0YShvcHRpb24saW5kZXgpXCIgY2xhc3M9XCJuZXdIb3RcIj5cclxuICAgICAgICAgICAgICB7eyAkdChgc29ydF9vcHRpb25fJHtvcHRpb259YCkgfX1cclxuICAgICAgICAgICAgICA8aSB2LWlmPSdpbmRleCA8IChvcHRpb25zLmxlbmd0aCAtIDEpJz58IDwvaT5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImxvYWQtY210XCI+XHJcbiAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgaWQ9XCJsb2FkTW9yZVwiIEBjbGljaz1cImxvYWRNb3JlXCIgdi1pZj1cInRvdGFsQ29tbWVudFNob3cgPCB0b3RhbENvbW1lbnRcIj5YZW1cclxuICAgICAgICAgICAgY8OhYyBiw6xuaCBsdeG6rW4gcGjDrWEgdHLGsOG7m2M8L2E+XHJcbiAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLWNpcmNsZS1vLW5vdGNoIGZhLXNwaW4gY2xEaXNhYmxlXCIgdi1pZj0nbG9hZG1vcmV3YXRjaCcgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsaXN0LWNvbW1lbnQgY29tbWVudF9oZWFkXCI+XHJcbiAgICAgICAgICA8ZGl2IHYtZm9yPVwiKGNvbW1lbnRQYXJlbnQsIGluZGV4KSBpbiBjb21tZW50RmlsdGVyc1wiIDprZXk9XCJjb21tZW50UGFyZW50LmlkXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpdGVtLWNvbW1lbnRcIiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDEwcHggIWltcG9ydGFudDtcIj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF2dFwiICBAbW91c2VvdmVyPVwiaGFuZGxlTW91c2VPdmVyKCdhdmFfY210XycrY29tbWVudFBhcmVudC5tZW1iZXIuZW1wbG95ZWVfY29kZSsnXycraW5kZXgpXCJcclxuICAgICAgICAgICAgICAgICAgICBAbW91c2VvdXQ9XCJoYW5kbGVNb3VzZU91dCgnYXZhX2NtdF8nK2NvbW1lbnRQYXJlbnQubWVtYmVyLmVtcGxveWVlX2NvZGUrJ18nK2luZGV4KVwiPlxyXG4gICAgICAgICAgICAgICAgPGltZyA6c3JjPVwiY29tbWVudFBhcmVudC5hdXRob3JfYXZhdGFyXCIgOmFsdD1cImNvbW1lbnRQYXJlbnQuYXV0aG9yX25hbWVcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYXR3aG8taW5zZXJ0ZWRcIiBzdHlsZT1cImJhY2tncm91bmQ6IHRyYW5zcGFyZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBvbm1vdXNlb3Zlcj1cInNob3dJbmZvclRhZyh0aGlzKVwiIG9ubW91c2VvdXQ9XCJoaWRlSW5mb3JUYWcodGhpcylcIiBjbGFzcz1cImFsbC10YWdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOmlkPVwiYGF2YV9jbXRfJHtjb21tZW50UGFyZW50Lm1lbWJlci5lbXBsb3llZV9jb2RlfV8ke2luZGV4fWBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDogNTBweDsgaGVpZ2h0OiA3MHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTAsIDEwNiwgMTYxKTsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDBweDsgbGVmdDogMHB4OyB6LWluZGV4OiAxMDE7IGRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29tbWVudF9ib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94LWluZm9yLXRhZyBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgOnNyYz1cImNvbW1lbnRQYXJlbnQuYXV0aG9yX2F2YXRhclwiIDphbHQ9XCJjb21tZW50UGFyZW50LmF1dGhvcl9uYW1lXCIgc3R5bGU9XCJ3aWR0aDogNTVweFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveC1yaWdodC10YWdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm5hbWUtdGFnXCI+e3sgY29tbWVudFBhcmVudC5hdXRob3JfbmFtZSB9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9zaXRpb24tdGFnXCI+e3sgY29tbWVudFBhcmVudC5tZW1iZXIucG9zaXRpb25fbmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJlci10YWdcIj57eyBjb21tZW50UGFyZW50Lm1lbWJlci5vcmdhbml6YXRpb25fbmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3gtYnRuLXRhZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSA6aHJlZj1cIidodHRwczovL3ZvcHMudmlldHRlbC52bi9kaXJlY3QvJytjb21tZW50UGFyZW50Lm1lbWJlci5lbWFpbC5zcGxpdCgnQCcpWzBdXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCI+PGJ1dHRvbiBjbGFzcz1cImJ0bi12b3BzXCI+PGltZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0Y2hhdF9pY29uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz1cIi90aGVtZXMvdmlldHRlbGZhbWlseS9pbWFnZXMvaWNvbl90Y2hhdC5wbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiXCI+PC9idXR0b24+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSA6aHJlZj1cIidtYWlsdG86JyArIGNvbW1lbnRQYXJlbnQubWVtYmVyLmVtYWlsXCIgdGFyZ2V0PVwiX2JsYW5rXCI+PGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4tZW1haWxcIj48aW1nIGNsYXNzPVwidGVtYWlsX2ljb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCIvdGhlbWVzL3ZpZXR0ZWxmYW1pbHkvaW1hZ2VzL2ljb25fdGVtYWlsLnBuZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlwiPjwvYnV0dG9uPjwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiIHN0eWxlPVwibWFyZ2luOiAwIDAgMCAxMHB4XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3RcIj5cclxuICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBAbW91c2VvdmVyPVwiaGFuZGxlTW91c2VPdmVyKCduYW1lX2NtdF8nK2NvbW1lbnRQYXJlbnQubWVtYmVyLmVtcGxveWVlX2NvZGUrJ18nK2luZGV4KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBAbW91c2VvdXQ9XCJoYW5kbGVNb3VzZU91dCgnbmFtZV9jbXRfJytjb21tZW50UGFyZW50Lm1lbWJlci5lbXBsb3llZV9jb2RlKydfJytpbmRleClcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF0d2hvLWluc2VydGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7IGNvbW1lbnRQYXJlbnQuYXV0aG9yX25hbWUgfX1cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIG9ubW91c2VvdmVyPVwic2hvd0luZm9yVGFnKHRoaXMpXCIgb25tb3VzZW91dD1cImhpZGVJbmZvclRhZyh0aGlzKVwiIGNsYXNzPVwiYWxsLXRhZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6aWQ9XCJgbmFtZV9jbXRfJHtjb21tZW50UGFyZW50Lm1lbWJlci5lbXBsb3llZV9jb2RlfV8ke2luZGV4fWBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOiA1MHB4OyBoZWlnaHQ6IDcwcHg7IGJhY2tncm91bmQtY29sb3I6IHJnYigxMCwgMTA2LCAxNjEpOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTZweDsgbGVmdDogMHB4OyB6LWluZGV4OiAxMDE7IGRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29tbWVudF9ib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94LWluZm9yLXRhZyBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgOnNyYz1cImNvbW1lbnRQYXJlbnQuYXV0aG9yX2F2YXRhclwiIDphbHQ9XCJjb21tZW50UGFyZW50LmF1dGhvcl9uYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94LXJpZ2h0LXRhZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibmFtZS10YWdcIj57eyBjb21tZW50UGFyZW50LmF1dGhvcl9uYW1lIH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3NpdGlvbi10YWdcIj57eyBjb21tZW50UGFyZW50Lm1lbWJlci5wb3NpdGlvbl9uYW1lIH19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmVyLXRhZ1wiPnt7IGNvbW1lbnRQYXJlbnQubWVtYmVyLm9yZ2FuaXphdGlvbl9uYW1lIH19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveC1idG4tdGFnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIDpocmVmPVwiJ2h0dHBzOi8vdm9wcy52aWV0dGVsLnZuL2RpcmVjdC8nK2NvbW1lbnRQYXJlbnQubWVtYmVyLmVtYWlsLnNwbGl0KCdAJylbMF1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIj48YnV0dG9uIGNsYXNzPVwiYnRuLXZvcHNcIj48aW1nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRjaGF0X2ljb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwiL3RoZW1lcy92aWV0dGVsZmFtaWx5L2ltYWdlcy9pY29uX3RjaGF0LnBuZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJcIj48L2J1dHRvbj48L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIDpocmVmPVwiJ21haWx0bzonICsgY29tbWVudFBhcmVudC5tZW1iZXIuZW1haWxcIiB0YXJnZXQ9XCJfYmxhbmtcIj48YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0bi1lbWFpbFwiPjxpbWcgY2xhc3M9XCJ0ZW1haWxfaWNvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz1cIi90aGVtZXMvdmlldHRlbGZhbWlseS9pbWFnZXMvaWNvbl90ZW1haWwucG5nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiXCI+PC9idXR0b24+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXNjXCIgdi1odG1sPVwiY29tbWVudFBhcmVudC5jb250ZW50XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb25cIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvdW50LWxpa2VcIiB2LXNob3c9XCJjb21tZW50RmlsdGVyc1tpbmRleF0udm90ZWQubGVuZ3RoID4gMFwiIDpjbGFzcz1cInsnYWN0aXZlJzogY29tbWVudEZpbHRlcnNbaW5kZXhdLmlzVm90ZWR9XCI+PGkgY2xhc3M9XCJmYXMgZmEtdGh1bWJzLXVwXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIHt7IGNvbW1lbnRGaWx0ZXJzW2luZGV4XS52b3RlZC5sZW5ndGggfX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImJ0bi1hY3Rpb25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJpdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cImNoZWNrVm90ZShjb21tZW50UGFyZW50LCAnY29tbWVudCcsIGluZGV4KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB2LXNob3c9XCIhY29tbWVudEZpbHRlcnNbaW5kZXhdLmlzVm90ZWRcIj5UaMOtY2g8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJpdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cImNoZWNrVm90ZShjb21tZW50UGFyZW50LCAnY29tbWVudCcsIGluZGV4KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB2LXNob3c9XCJjb21tZW50RmlsdGVyc1tpbmRleF0uaXNWb3RlZFwiPkLhu48gdGjDrWNoPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiaXRlbVwiPjxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJzaG93UmVwbHlDb21tZW50KGNvbW1lbnRQYXJlbnQuaWQsIGluZGV4KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHYtaWY9XCJhbGxvd1JlcGxpZXMgJiYgY29tbWVudFBhcmVudC5zdGF0dXMgPT09ICdhcHByb3ZlZCcgJiYgbG9nZ2VkSW5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7eyAkdCgncmVwbHlfYnV0dG9uJykgfX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhciBmYS1jbG9ja1wiPiZuYnNwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgPHRpbWVhZ28gOnNpbmNlPVwiY29tbWVudFBhcmVudC5jcmVhdGVkX2F0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDp0aXRsZT1cImNvbW1lbnRQYXJlbnQuY3JlYXRlZF9hdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90aW1lYWdvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvaT5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJsb2FkLWNtdC1jaGlsZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdi1pZj1cInZpc2libGVDb21tZW50c1tjb21tZW50UGFyZW50LmlkXSAhPSB1bmRlZmluZWQgJiYgY29tbWVudFBhcmVudC5yZXBsaWVzLmxlbmd0aCA+IHZpc2libGVDb21tZW50c1tjb21tZW50UGFyZW50LmlkXS5sZW5ndGhcIlxyXG4gICAgICAgICAgICAgICAgICAgIEBjbGljaz1cImxvYWRNb3JlUmVwbGllcyhjb21tZW50UGFyZW50LmlkKVwiIHN0eWxlPVwicGFkZGluZy1sZWZ0OiA3MHB4XCI+XHJcbiAgICAgICAgICAgICAgWGVtIHRow6ptIHBo4bqjbiBo4buTaVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpc3QtY2hpbGQtY29tbWVudFwiXHJcbiAgICAgICAgICAgICAgdi1pZj1cInZpc2libGVDb21tZW50c1tjb21tZW50UGFyZW50LmlkXS5sZW5ndGggPiAwICYmICFjb21tZW50UGFyZW50LnJlcG9ydGVkXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC1pdGVtLWNvbW1lbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgdi1mb3I9XCIoY29tbWVudENoaWxkLCBpKSBpbiB2aXNpYmxlQ29tbWVudHNbY29tbWVudFBhcmVudC5pZF0uc2xpY2UoKS5yZXZlcnNlKClcIiA6a2V5PVwiY29tbWVudENoaWxkLmlkXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpdGVtLWNvbW1lbnQgY2hpbGQgY29udGVudC1jbXQyIGNvbW1lbnQtcmVwbHlcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDBweCAhaW1wb3J0YW50OyBtYXJnaW4tYm90dG9tOiAxMHB4ICFpbXBvcnRhbnQ7XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYXZ0XCIgQG1vdXNlb3Zlcj1cImhhbmRsZU1vdXNlT3ZlcignYXZhX2NtdF9jaGlsZF8nK2luZGV4KydfJytpKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEBtb3VzZW91dD1cImhhbmRsZU1vdXNlT3V0KCdhdmFfY210X2NoaWxkXycraW5kZXgrJ18nK2kpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyA6c3JjPVwiY29tbWVudENoaWxkLmF1dGhvcl9hdmF0YXJcIiA6YWx0PVwiY29tbWVudENoaWxkLmF1dGhvcl9uYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhdHdoby1pbnNlcnRlZFwiIHN0eWxlPVwiYmFja2dyb3VuZDogdHJhbnNwYXJlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIG9ubW91c2VvdmVyPVwic2hvd0luZm9yVGFnKHRoaXMpXCIgb25tb3VzZW91dD1cImhpZGVJbmZvclRhZyh0aGlzKVwiIGNsYXNzPVwiYWxsLXRhZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6aWQ9XCJgYXZhX2NtdF9jaGlsZF8ke2luZGV4fV8ke2l9YFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOiA1MHB4OyBoZWlnaHQ6IDcwcHg7IGJhY2tncm91bmQtY29sb3I6IHJnYigxMCwgMTA2LCAxNjEpOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMHB4OyBsZWZ0OiAwcHg7IHotaW5kZXg6IDEwMTsgZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb21tZW50X2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3gtaW5mb3ItdGFnIGQtZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyA6c3JjPVwiY29tbWVudENoaWxkLmF1dGhvcl9hdmF0YXJcIiA6YWx0PVwiY29tbWVudENoaWxkLmF1dGhvcl9uYW1lXCIgc3R5bGU9XCJ3aWR0aDogNTVweFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveC1yaWdodC10YWdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm5hbWUtdGFnXCI+e3sgY29tbWVudENoaWxkLmF1dGhvcl9uYW1lIH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3NpdGlvbi10YWdcIj57eyBjb21tZW50Q2hpbGQubWVtYmVyLnBvc2l0aW9uX25hbWUgfX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZXItdGFnXCI+e3sgY29tbWVudENoaWxkLm1lbWJlci5vcmdhbml6YXRpb25fbmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3gtYnRuLXRhZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSA6aHJlZj1cIidodHRwczovL3ZvcHMudmlldHRlbC52bi9kaXJlY3QvJytjb21tZW50Q2hpbGQubWVtYmVyLmVtYWlsLnNwbGl0KCdAJylbMF1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIj48YnV0dG9uIGNsYXNzPVwiYnRuLXZvcHNcIj48aW1nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRjaGF0X2ljb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwiL3RoZW1lcy92aWV0dGVsZmFtaWx5L2ltYWdlcy9pY29uX3RjaGF0LnBuZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJcIj48L2J1dHRvbj48L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIDpocmVmPVwiJ21haWx0bzonICsgY29tbWVudENoaWxkLm1lbWJlci5lbWFpbFwiIHRhcmdldD1cIl9ibGFua1wiPjxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuLWVtYWlsXCI+PGltZyBjbGFzcz1cInRlbWFpbF9pY29uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwiL3RoZW1lcy92aWV0dGVsZmFtaWx5L2ltYWdlcy9pY29uX3RlbWFpbC5wbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJcIj48L2J1dHRvbj48L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiIHN0eWxlPVwibWFyZ2luOiAwIDAgMCAxMHB4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImN0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJuYW1lXCIgQG1vdXNlb3Zlcj1cImhhbmRsZU1vdXNlT3ZlcignbmFtZV9jbXRfY2hpbGRfJytpbmRleCsnXycraSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIEBtb3VzZW91dD1cImhhbmRsZU1vdXNlT3V0KCduYW1lX2NtdF9jaGlsZF8nK2luZGV4KydfJytpKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF0d2hvLWluc2VydGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7IGNvbW1lbnRDaGlsZC5hdXRob3JfbmFtZSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gb25tb3VzZW92ZXI9XCJzaG93SW5mb3JUYWcodGhpcylcIiBvbm1vdXNlb3V0PVwiaGlkZUluZm9yVGFnKHRoaXMpXCIgY2xhc3M9XCJhbGwtdGFnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDppZD1cImBuYW1lX2NtdF9jaGlsZF8ke2luZGV4fV8ke2l9YFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOiA1MHB4OyBoZWlnaHQ6IDcwcHg7IGJhY2tncm91bmQtY29sb3I6IHJnYigxMCwgMTA2LCAxNjEpOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMjBweDsgbGVmdDogMHB4OyB6LWluZGV4OiAxMDE7IGRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29tbWVudF9ib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94LWluZm9yLXRhZyBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgOnNyYz1cImNvbW1lbnRDaGlsZC5hdXRob3JfYXZhdGFyXCIgOmFsdD1cImNvbW1lbnRDaGlsZC5hdXRob3JfbmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveC1yaWdodC10YWdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm5hbWUtdGFnXCI+e3sgY29tbWVudENoaWxkLmF1dGhvcl9uYW1lIH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3NpdGlvbi10YWdcIj57eyBjb21tZW50Q2hpbGQubWVtYmVyLnBvc2l0aW9uX25hbWUgfX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZXItdGFnXCI+e3sgY29tbWVudENoaWxkLm1lbWJlci5vcmdhbml6YXRpb25fbmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3gtYnRuLXRhZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSA6aHJlZj1cIidodHRwczovL3ZvcHMudmlldHRlbC52bi9kaXJlY3QvJytjb21tZW50Q2hpbGQubWVtYmVyLmVtYWlsLnNwbGl0KCdAJylbMF1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIj48YnV0dG9uIGNsYXNzPVwiYnRuLXZvcHNcIj48aW1nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRjaGF0X2ljb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwiL3RoZW1lcy92aWV0dGVsZmFtaWx5L2ltYWdlcy9pY29uX3RjaGF0LnBuZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJcIj48L2J1dHRvbj48L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIDpocmVmPVwiJ21haWx0bzonICsgY29tbWVudENoaWxkLm1lbWJlci5lbWFpbFwiIHRhcmdldD1cIl9ibGFua1wiPjxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuLWVtYWlsXCI+PGltZyBjbGFzcz1cInRlbWFpbF9pY29uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwiL3RoZW1lcy92aWV0dGVsZmFtaWx5L2ltYWdlcy9pY29uX3RlbWFpbC5wbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJcIj48L2J1dHRvbj48L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVzY1wiIHYtaHRtbD1cImNvbW1lbnRDaGlsZC5jb250ZW50XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiYnRuLWFjdGlvblwiIHYtaWY9XCJsb2dnZWRJbiAmJiBhbGxvd1ZvdGVzID09IHRydWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvdW50LWxpa2VcIiB2LXNob3c9XCJ2aXNpYmxlQ29tbWVudHNbY29tbWVudFBhcmVudC5pZF0uc2xpY2UoKS5yZXZlcnNlKClbaV0udm90ZWQubGVuZ3RoID4gMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmNsYXNzPVwieydhY3RpdmUnOiB2aXNpYmxlQ29tbWVudHNbY29tbWVudFBhcmVudC5pZF0uc2xpY2UoKS5yZXZlcnNlKClbaV0uaXNWb3RlZH1cIj48aSBjbGFzcz1cImZhcyBmYS10aHVtYnMtdXBcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3sgdmlzaWJsZUNvbW1lbnRzW2NvbW1lbnRQYXJlbnQuaWRdLnNsaWNlKCkucmV2ZXJzZSgpW2ldLnZvdGVkLmxlbmd0aCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiaXRlbVwiIHYtc2hvdz1cIiF2aXNpYmxlQ29tbWVudHNbY29tbWVudFBhcmVudC5pZF0uc2xpY2UoKS5yZXZlcnNlKClbaV0uaXNWb3RlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cImNoZWNrVm90ZVJlcGx5KGNvbW1lbnRDaGlsZCwgaW5kZXgsIGkpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+VGjDrWNoPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJpdGVtXCIgdi1zaG93PVwidmlzaWJsZUNvbW1lbnRzW2NvbW1lbnRQYXJlbnQuaWRdLnNsaWNlKCkucmV2ZXJzZSgpW2ldLmlzVm90ZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJjaGVja1ZvdGVSZXBseShjb21tZW50Q2hpbGQsIGluZGV4LCBpKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPkLhu48gdGjDrWNoPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJpdGVtXCI+PGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwic2hvd1JlcGx5Q29tbWVudENoaWxkKGNvbW1lbnRDaGlsZC5pZCwgaW5kZXgsIGkpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWlmPVwiYWxsb3dSZXBsaWVzQ2hpbGRyZW4gJiYgY29tbWVudENoaWxkLnN0YXR1cyA9PT0gJ2FwcHJvdmVkJyAmJiBsb2dnZWRJblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7eyAkdCgncmVwbHlfYnV0dG9uJykgfX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtY2xvY2tcIj4mbmJzcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGltZWFnbyA6c2luY2U9XCJjb21tZW50Q2hpbGQuY3JlYXRlZF9hdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnRpdGxlPVwiY29tbWVudENoaWxkLmNyZWF0ZWRfYXRcIj48L3RpbWVhZ28+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImxvYWQtY210LWNoaWxkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi1pZj1cImFsbG93UmVwbGllc0NoaWxkcmVuICYmIHZpc2libGVDb21tZW50c0NoaWxkW2NvbW1lbnRDaGlsZC5pZF0gIT0gdW5kZWZpbmVkICYmIGNvbW1lbnRDaGlsZC5yZXBsaWVzX2NoaWxkLmxlbmd0aCA+IHZpc2libGVDb21tZW50c0NoaWxkW2NvbW1lbnRDaGlsZC5pZF0ubGVuZ3RoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwibG9hZE1vcmVSZXBsaWVzQ2hpbGQoY29tbWVudENoaWxkLmlkKVwiIHN0eWxlPVwicGFkZGluZy1sZWZ0OiAxMjBweFwiPlxyXG4gICAgICAgICAgICAgICAgICBYZW0gdGjDqm0gcGjhuqNuIGjhu5NpXHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZXBseS1jb21tZW50LWNoaWxkXCJcclxuICAgICAgICAgICAgICAgICAgICAgdi1pZj1cImFsbG93UmVwbGllc0NoaWxkcmVuICYmIHZpc2libGVDb21tZW50c0NoaWxkW2NvbW1lbnRDaGlsZC5pZF0gIT0gdW5kZWZpbmVkICYmIHZpc2libGVDb21tZW50c0NoaWxkW2NvbW1lbnRDaGlsZC5pZF0ubGVuZ3RoID4gMCAgXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaXRlbS1jb21tZW50IGNoaWxkIGNoaWxkLWNvbW1lbnQgY29udGVudC1jbXQyIGNvbW1lbnQtcmVwbHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgdi1mb3I9XCIoY29tbWVudENoaWxkMiwgaikgaW4gdmlzaWJsZUNvbW1lbnRzQ2hpbGRbY29tbWVudENoaWxkLmlkXS5zbGljZSgpLnJldmVyc2UoKVwiIDprZXk9XCJjb21tZW50Q2hpbGQyLmlkXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDBweCAhaW1wb3J0YW50OyBtYXJnaW4tYm90dG9tOiAxMHB4ICFpbXBvcnRhbnQ7IHBhZGRpbmctbGVmdDogMTIwcHggIWltcG9ydGFudDtcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF2dFwiIEBtb3VzZW92ZXI9XCJoYW5kbGVNb3VzZU92ZXIoJ2F2YV9jbXRfcmVwX2NoaWxkXycgKyBpbmRleCArICdfJyArIGkgKyAnXycrailcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIEBtb3VzZW91dD1cImhhbmRsZU1vdXNlT3V0KCdhdmFfY210X3JlcF9jaGlsZF8nICsgaW5kZXggKyAnXycgKyBpICsgJ18nK2opXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aW1nIDpzcmM9XCJjb21tZW50Q2hpbGQyLmF1dGhvcl9hdmF0YXJcIiA6YWx0PVwiY29tbWVudENoaWxkMi5hdXRob3JfbmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhdHdoby1pbnNlcnRlZFwiIHN0eWxlPVwiYmFja2dyb3VuZDogdHJhbnNwYXJlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIG9ubW91c2VvdmVyPVwic2hvd0luZm9yVGFnKHRoaXMpXCIgb25tb3VzZW91dD1cImhpZGVJbmZvclRhZyh0aGlzKVwiIGNsYXNzPVwiYWxsLXRhZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6aWQ9XCJgYXZhX2NtdF9yZXBfY2hpbGRfJHtpbmRleH1fJHtpfV8ke2p9YFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOiA1MHB4OyBoZWlnaHQ6IDcwcHg7IGJhY2tncm91bmQtY29sb3I6IHJnYigxMCwgMTA2LCAxNjEpOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMHB4OyBsZWZ0OiAwcHg7IHotaW5kZXg6IDEwMTsgZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb21tZW50X2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3gtaW5mb3ItdGFnIGQtZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyA6c3JjPVwiY29tbWVudENoaWxkMi5hdXRob3JfYXZhdGFyXCIgOmFsdD1cImNvbW1lbnRDaGlsZDIuYXV0aG9yX25hbWVcIiBzdHlsZT1cIndpZHRoOiA1NXB4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94LXJpZ2h0LXRhZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibmFtZS10YWdcIj57eyBjb21tZW50Q2hpbGQyLmF1dGhvcl9uYW1lIH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3NpdGlvbi10YWdcIj57eyBjb21tZW50Q2hpbGQyLm1lbWJlci5wb3NpdGlvbl9uYW1lIH19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmVyLXRhZ1wiPnt7IGNvbW1lbnRDaGlsZDIubWVtYmVyLm9yZ2FuaXphdGlvbl9uYW1lIH19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveC1idG4tdGFnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIDpocmVmPVwiJ2h0dHBzOi8vdm9wcy52aWV0dGVsLnZuL2RpcmVjdC8nK2NvbW1lbnRDaGlsZDIubWVtYmVyLmVtYWlsLnNwbGl0KCdAJylbMF1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIj48YnV0dG9uIGNsYXNzPVwiYnRuLXZvcHNcIj48aW1nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRjaGF0X2ljb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwiL3RoZW1lcy92aWV0dGVsZmFtaWx5L2ltYWdlcy9pY29uX3RjaGF0LnBuZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJcIj48L2J1dHRvbj48L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIDpocmVmPVwiJ21haWx0bzonICsgY29tbWVudENoaWxkMi5tZW1iZXIuZW1haWxcIiB0YXJnZXQ9XCJfYmxhbmtcIj48YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0bi1lbWFpbFwiPjxpbWcgY2xhc3M9XCJ0ZW1haWxfaWNvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz1cIi90aGVtZXMvdmlldHRlbGZhbWlseS9pbWFnZXMvaWNvbl90ZW1haWwucG5nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiXCI+PC9idXR0b24+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCIgc3R5bGU9XCJtYXJnaW46IDAgMCAwIDEwcHhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJuYW1lXCIgQG1vdXNlb3Zlcj1cImhhbmRsZU1vdXNlT3ZlcignY210X2NoaWxkX3JlcF8nKyBpbmRleCArJ18nK2krJ18nK2opXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBtb3VzZW91dD1cImhhbmRsZU1vdXNlT3V0KCdjbXRfY2hpbGRfcmVwXycrIGluZGV4ICsnXycraSsnXycrailcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF0d2hvLWluc2VydGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3sgY29tbWVudENoaWxkMi5hdXRob3JfbmFtZSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gb25tb3VzZW92ZXI9XCJzaG93SW5mb3JUYWcodGhpcylcIiBvbm1vdXNlb3V0PVwiaGlkZUluZm9yVGFnKHRoaXMpXCIgY2xhc3M9XCJhbGwtdGFnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDppZD1cImBjbXRfY2hpbGRfcmVwXyR7aW5kZXh9XyR7aX1fJHtqfWBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDogNTBweDsgaGVpZ2h0OiA3MHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTAsIDEwNiwgMTYxKTsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDIwcHg7IGxlZnQ6IDBweDsgei1pbmRleDogMTAxOyBkaXNwbGF5OiBub25lO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbW1lbnRfYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveC1pbmZvci10YWcgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIDpzcmM9XCJjb21tZW50Q2hpbGQyLmF1dGhvcl9hdmF0YXJcIiA6YWx0PVwiY29tbWVudENoaWxkMi5hdXRob3JfbmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveC1yaWdodC10YWdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm5hbWUtdGFnXCI+e3sgY29tbWVudENoaWxkMi5hdXRob3JfbmFtZSB9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9zaXRpb24tdGFnXCI+e3sgY29tbWVudENoaWxkMi5tZW1iZXIucG9zaXRpb25fbmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJlci10YWdcIj57eyBjb21tZW50Q2hpbGQyLm1lbWJlci5vcmdhbml6YXRpb25fbmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3gtYnRuLXRhZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSA6aHJlZj1cIidodHRwczovL3ZvcHMudmlldHRlbC52bi9kaXJlY3QvJytjb21tZW50Q2hpbGQyLm1lbWJlci5lbWFpbC5zcGxpdCgnQCcpWzBdXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCI+PGJ1dHRvbiBjbGFzcz1cImJ0bi12b3BzXCI+PGltZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0Y2hhdF9pY29uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz1cIi90aGVtZXMvdmlldHRlbGZhbWlseS9pbWFnZXMvaWNvbl90Y2hhdC5wbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiXCI+PC9idXR0b24+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSA6aHJlZj1cIidtYWlsdG86JyArIGNvbW1lbnRDaGlsZDIubWVtYmVyLmVtYWlsXCIgdGFyZ2V0PVwiX2JsYW5rXCI+PGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4tZW1haWxcIj48aW1nIGNsYXNzPVwidGVtYWlsX2ljb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCIvdGhlbWVzL3ZpZXR0ZWxmYW1pbHkvaW1hZ2VzL2ljb25fdGVtYWlsLnBuZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlwiPjwvYnV0dG9uPjwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVzY1wiIHYtaHRtbD1cImNvbW1lbnRDaGlsZDIuY29udGVudFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImJ0bi1hY3Rpb25cIiB2LWlmPVwibG9nZ2VkSW4gJiYgYWxsb3dWb3RlcyA9PSB0cnVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvdW50LWxpa2VcIiB2LWlmPVwiY29tbWVudENoaWxkMi52b3RlZC5sZW5ndGggPiAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpjbGFzcz1cInsnYWN0aXZlJzogY29tbWVudENoaWxkMi5pc1ZvdGVkfVwiPjxpIGNsYXNzPVwiZmFzIGZhLXRodW1icy11cFwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IGNvbW1lbnRDaGlsZDIudm90ZWQubGVuZ3RoIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiaXRlbVwiIHYtaWY9XCIhY29tbWVudENoaWxkMi5pc1ZvdGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cImNoZWNrVm90ZVJlcGx5Q2hpbGQoY29tbWVudENoaWxkMiwgY29tbWVudENoaWxkLmlkLCBqKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+VGjDrWNoPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiaXRlbVwiIHYtaWY9XCJjb21tZW50Q2hpbGQyLmlzVm90ZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwiY2hlY2tWb3RlUmVwbHlDaGlsZChjb21tZW50Q2hpbGQyLCBjb21tZW50Q2hpbGQuaWQsIGopXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5C4buPIHRow61jaDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFyIGZhLWNsb2NrXCI+Jm5ic3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGltZWFnbyA6c2luY2U9XCJjb21tZW50Q2hpbGQyLmNyZWF0ZWRfYXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnRpdGxlPVwiY29tbWVudENoaWxkMi5jcmVhdGVkX2F0XCI+PC90aW1lYWdvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb24tcmVwbHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICB2LWlmPVwiYWxsb3dSZXBsaWVzQ2hpbGRyZW5cIlxyXG4gICAgICAgICAgICAgICAgICAgICA6Y2xhc3M9XCJiaW5kQ2xhc3NDb21tZW50Q2hpbGQoY29tbWVudENoaWxkLmlkKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiZGlzcGxheTpub25lXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveC13cml0ZS1jb21tZW50IHJlcGx5XCIgc3R5bGU9XCJwYWRkaW5nLWxlZnQ6IDEyMHB4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gdi1pZj1cImxvZ2dlZEluXCIgY2xhc3M9XCJhdnRcIj48aW1nIG9uZXJyb3I9XCJ0aGlzLnNyYz0nL2RlZmF1bHQtYXZhdGFyLmpwZydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzcmM9XCJhdmF0YXJcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIiBAa2V5dXAuZW50ZXI9XCJyZXBseUNvbW1lbnRDaGlsZChjb21tZW50Q2hpbGQpXCI+XHJcbiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSB2LWlmPSdlbW9qaSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHLhuqMgbOG7nWkgw70ga2nhur9uLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYm94LWNvbW1lbnQgY29tbWVudC1jaGlsZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWVtb2ppYWJsZT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1lbW9qaS1pbnB1dD1cInVuaWNvZGVcIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgdi1pZj0nIWVtb2ppJyBwbGFjZWhvbGRlcj1cIlRy4bqjIGzhu51pIMO9IGtp4bq/bi4uLlwiIHYtbW9kZWw9XCJjb21tZW50LmNvbnRlbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYm94LWNvbW1lbnQgY29tbWVudC1jaGlsZFwiPlxyXG4gICAgICAgICAgICAgICAgICA8L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbi1jb21tZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tc2VuZCBpdGVtXCIgQGNsaWNrPVwicmVwbHlDb21tZW50Q2hpbGQoY29tbWVudENoaWxkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXBhcGVyLXBsYW5lXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXdfaW1hZ2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwibWFyZ2luLXRvcDogMTdweDsgbWFyZ2luLWxlZnQ6IDcwcHg7bWFyZ2luLWJvdHRvbTogMTdweDsgZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIlwiIHdpZHRoPVwiMTIwXCIgc3R5bGU9XCJoZWlnaHQ6IDEwMHB4O1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYnRuLWNsb3NlIGZhIGZhLXRpbWVzXCIgc3R5bGU9XCJyaWdodDogLTFweDtcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uLXJlcGx5XCJcclxuICAgICAgICAgICAgICA6Y2xhc3M9XCJiaW5kQ2xhc3NDb21tZW50KGNvbW1lbnRQYXJlbnQuaWQpXCJcclxuICAgICAgICAgICAgICBzdHlsZT1cImRpc3BsYXk6bm9uZVwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94LXdyaXRlLWNvbW1lbnQgcmVwbHlcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJsb2dnZWRJblwiIGNsYXNzPVwiYXZ0XCI+PGltZyBvbmVycm9yPVwidGhpcy5zcmM9Jy9kZWZhdWx0LWF2YXRhci5qcGcnXCIgOnNyYz1cImF2YXRhclwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCIgQGtleXVwLmVudGVyPVwicmVwbHlDb21tZW50KGNvbW1lbnRQYXJlbnQpXCI+XHJcbiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSB2LWlmPSdlbW9qaSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHLhuqMgbOG7nWkgw70ga2nhur9uLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYm94LWNvbW1lbnQgY29tbWVudC1jaGlsZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWVtb2ppYWJsZT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1lbW9qaS1pbnB1dD1cInVuaWNvZGVcIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSB2LWlmPSchZW1vamknIHBsYWNlaG9sZGVyPVwiVHLhuqMgbOG7nWkgw70ga2nhur9uLi4uXCIgdi1tb2RlbD1cImNvbW1lbnQuY29udGVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJveC1jb21tZW50IGNvbW1lbnQtY2hpbGRcIj5cclxuICAgICAgICAgICAgICAgICAgPC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbi1jb21tZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1zZW5kIGl0ZW1cIiBAY2xpY2s9XCJyZXBseUNvbW1lbnQoY29tbWVudFBhcmVudClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXBhcGVyLXBsYW5lXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3X2ltYWdlXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAxN3B4OyBtYXJnaW4tbGVmdDogNzBweDsgZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiXCIgd2lkdGg9XCIxMjBcIiBzdHlsZT1cImhlaWdodDogMTAwcHg7XCI+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImJ0bi1jbG9zZSBmYSBmYS10aW1lc1wiIHN0eWxlPVwicmlnaHQ6IC0xcHg7XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyLWNvbW1lbnQgY29sLW1kLTEyIHBkLTBcIiB2LWlmPVwiIWxvZ2dlZEluXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicHVsbC1sZWZ0XCI+XHJcbiAgICAgICAgICAgIDxiPlxyXG4gICAgICAgICAgICAgIEjDo3kgPGEgY2xhc3M9XCJidG5Mb2dpbl9tb2RlbFwiIGhyZWY9XCIvbG9naW5cIj7EkcSDbmcgbmjhuq1wPC9hPiDEkeG7gyBiw6xuaCBsdeG6rW5cclxuICAgICAgICAgICAgPC9iPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb24tY29tbWVudCBjb21tZW50LWFyZWFcIiB2LWlmPVwibG9nZ2VkSW5cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3gtd3JpdGUtY29tbWVudCBjbXQtMVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF2dFwiPjxpbWcgb25lcnJvcj1cInRoaXMuc3JjPScvZGVmYXVsdC1hdmF0YXIuanBnJ1wiIDpzcmM9XCJhdmF0YXJcIj48L3NwYW4+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgPHRleHRhcmVhIHYtaWY9J2Vtb2ppJ1xyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLDnSBraeG6v24gYuG6oW4gxJHhu41jLi4uXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwiYm94LWNvbW1lbnRcIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1lbW9qaWFibGU9XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgIGRhdGEtZW1vamktaW5wdXQ9XCJ1bmljb2RlXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgICA8dGV4dGFyZWEgdi1pZj0nIWVtb2ppJyBwbGFjZWhvbGRlcj1cIsOdIGtp4bq/biBi4bqhbiDEkeG7jWMuLi5cIiB2LW1vZGVsPVwiY29tbWVudC5jb250ZW50XCJcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwiYm94LWNvbW1lbnRcIj48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb24tY29tbWVudFwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1zZW5kIGl0ZW1cIiBAY2xpY2s9XCJzYXZlQ29tbWVudFwiPjxpIGNsYXNzPVwiZmFzIGZhLXBhcGVyLXBsYW5lXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXdfaW1hZ2VcIiBzdHlsZT1cIm1hcmdpbi10b3A6IDEwcHg7IG1hcmdpbi1sZWZ0OiA4NXB4OyBkaXNwbGF5OiBub25lO1wiPlxyXG4gICAgICAgICAgICA8aW1nIHNyYz1cIlwiIHdpZHRoPVwiMTIwXCI+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiYnRuLWNsb3NlIGZhIGZhLXRpbWVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L3NlY3Rpb24+XHJcbjwvdGVtcGxhdGU+XHJcbjxzY3JpcHQ+XHJcbmltcG9ydCBWdWUgZnJvbSAndnVlJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZydcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xyXG5pbXBvcnQge2F1dGhvclJlY2FsbGVyfSBmcm9tICdAL3V0aWwnXHJcbmltcG9ydCB7cXVlcnlTdHJpbmd9IGZyb20gJ0AvdXRpbCdcclxuaW1wb3J0IEZvcm0gZnJvbSAndmZvcm0nXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZGF0YSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGxpa2U6IGZhbHNlLFxyXG4gICAgICBsb2FkbW9yZXdhdGNoOiBmYWxzZSxcclxuICAgICAgY2FuUG9zdDogY29uZmlnLmNhblBvc3QsXHJcbiAgICAgIGNoZWNrOiBmYWxzZSxcclxuICAgICAgY2hlY2tSZXBseTogZmFsc2UsXHJcbiAgICAgIGNoZWNrUmVwbHlDaGlsZDogZmFsc2UsXHJcbiAgICAgIGNvbW1lbnRzOiBbXSxcclxuICAgICAgc2hvd1JlcGx5OiBmYWxzZSxcclxuICAgICAgc2hvd1JlcGx5Q2hpbGQ6IGZhbHNlLFxyXG4gICAgICBwZXJtYWxpbms6IGNvbmZpZy5wZXJtYWxpbmssXHJcbiAgICAgIGFsbG93Vm90ZXM6IGNvbmZpZy5hbGxvd1ZvdGVzLFxyXG4gICAgICBhbGxvd1JlcGxpZXM6IGNvbmZpZy5hbGxvd1JlcGxpZXMsXHJcbiAgICAgIGFsbG93UmVwbGllc0NoaWxkcmVuOiBjb25maWcuYWxsb3dSZXBsaWVzQ2hpbGRyZW4sXHJcbiAgICAgIGxvZ2dlZEluOiBjb25maWcubG9nZ2VkSW4sXHJcbiAgICAgIGZpbGx0ZXI6IGZhbHNlLFxyXG4gICAgICBmaWxsdGVyUmVscHk6IGZhbHNlLFxyXG4gICAgICBsb2FkZGluZzogZmFsc2UsXHJcbiAgICAgIGxvYWRkaW5nQ29tbWVudDogZmFsc2UsXHJcbiAgICAgIGF2YXRhcjogbnVsbCxcclxuICAgICAgbnVtYmVyQ29tbWVudDogMCxcclxuICAgICAgdG90YWxDb21tZW50U2hvdzogMCxcclxuICAgICAgdXNlcl9kYXRhOiBudWxsLFxyXG4gICAgICBwb3N0TGlrZTogY29uZmlnLmRhdGEucG9zdGxpa2UsXHJcbiAgICAgIGNvdW50TGlrZVBvc3Q6IGNvbmZpZy5kYXRhLmNvdW50bGlrZXBvc3QsXHJcbiAgICAgIGNvbW1lbnRfbG9hZG1vcmU6IFtdLFxyXG4gICAgICB0b3RhbENvbW1lbnQ6IGNvbmZpZy5kYXRhLmNvbW1lbnRzLnBhZ2luYXRpb24udG90YWwsXHJcbiAgICAgIHBhZ2U6IDEsXHJcbiAgICAgIGNoZWNrTGlrZVBvc3Q6IGZhbHNlLFxyXG4gICAgICBjb21tZW50X2lkOiAnJyxcclxuICAgICAgaW5kZXhDb21tZW50OiAnJyxcclxuICAgICAgaW5kZXhDb21tZW50Q2hpbGQ6ICcnLFxyXG4gICAgICBlbW9qaTogY29uZmlnLmVtb2ppLFxyXG4gICAgICAvLyBlbW9qaTogZmFsc2UsXHJcbiAgICAgIG1lZGlhX2VtYmVkOiBjb25maWcubWVkaWFfZW1iZWQsXHJcbiAgICAgIG9wdGlvbnM6IGNvbmZpZy5vcmRlck9wdGlvbnMsXHJcbiAgICAgIG9yZGVyOiBjb25maWcuZGVmYXVsdE9yZGVyLFxyXG4gICAgICBjb21tZW50RmlsdGVyczogW10sXHJcbiAgICAgIHZpc2libGVDb21tZW50czoge30sIC8vIEzGsHUgdHLhu68gY8OhYyBiw6xuaCBsdeG6rW4gY29uIMSRYW5nIMSRxrDhu6NjIGhp4buDbiB0aOG7iyB0aGVvIHThu6tuZyBjb21tZW50IGlkXHJcbiAgICAgIHZpc2libGVDb21tZW50c0NoaWxkOiB7fSwgLy8gTMawdSB0cuG7ryBjw6FjIGLDrG5oIGx14bqtbiBjb24gxJFhbmcgxJHGsOG7o2MgaGnhu4NuIHRo4buLIHRoZW8gdOG7q25nIGNvbW1lbnRDaGlsZCBpZFxyXG4gICAgICBjb21tZW50c1BlckxvYWQ6IChjb25maWcucGVyUGFnZUNoaWxkICYmIGNvbmZpZy5wZXJQYWdlQ2hpbGQgIT09IDApID8gY29uZmlnLnBlclBhZ2VDaGlsZCA6IDMsICAvLyBT4buRIGzGsOG7o25nIGLDrG5oIGx14bqtbiBjb24gc+G6vSBoaeG7g24gdGjhu4sgbeG7l2kgbOG6p24gbmjhuqVuIFwiWGVtIHRow6ptXCJcclxuICAgICAgY29tbWVudHNDaGlsZFBlckxvYWQ6IChjb25maWcucGVyUGFnZUNvbW1lbnRDaGlsZCAmJiBjb25maWcucGVyUGFnZUNvbW1lbnRDaGlsZCAhPT0gMCkgPyBjb25maWcucGVyUGFnZUNvbW1lbnRDaGlsZCA6IDMsICAvLyBT4buRIGzGsOG7o25nIHRy4bqjIGzhu51pIGLDrG5oIGx14bqtbiBjb24gc+G6vSBoaeG7g24gdGjhu4sgbeG7l2kgbOG6p24gbmjhuqVuIFwiWGVtIHRow6ptXCJcclxuICAgICAgY29tbWVudDogbmV3IEZvcm0oe1xyXG4gICAgICAgIGNvbnRlbnQ6ICcnLFxyXG4gICAgICAgIHBhZ2VfaWQ6IGNvbmZpZy5wYWdlSWQsXHJcbiAgICAgICAgY29tbWVudGFibGVfaWQ6IGNvbmZpZy5jb21tZW50YWJsZUlkLFxyXG4gICAgICAgIHBlcm1hbGluazogY29uZmlnLnBlcm1hbGluayxcclxuICAgICAgICBjb21tZW50YWJsZV90eXBlOiBjb25maWcuY29tbWVudGFibGVUeXBlLFxyXG4gICAgICAgIGF1dGhvcl9uYW1lOiBhdXRob3JSZWNhbGxlci5nZXQoJ25hbWUnKSxcclxuICAgICAgICBhdXRob3JfZW1haWw6IGF1dGhvclJlY2FsbGVyLmdldCgnZW1haWwnKSxcclxuICAgICAgICBhdXRob3JfdXJsOiBhdXRob3JSZWNhbGxlci5nZXQoJ3VybCcpLFxyXG4gICAgICAgIHVzZXJfaWQ6ICcnLFxyXG4gICAgICAgIHJlcGx5OiBmYWxzZSxcclxuICAgICAgfSksXHJcbiAgICAgIGNoYW5uZWw6IG51bGwsXHJcbiAgICB9XHJcbiAgfSxcclxuICBwcm9wczoge1xyXG4gICAgdGhlbWU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9LFxyXG4gICAgcmVhbHRpbWU6IHtcclxuICAgICAgdHlwZTogTnVtYmVyXHJcbiAgICB9XHJcbiAgfSxcclxuICBjb21wdXRlZDoge30sXHJcbiAgd2F0Y2g6IHt9LFxyXG4gIGNyZWF0ZWQoKSB7XHJcbiAgfSxcclxuICBtb3VudGVkKCkge1xyXG4gICAgaWYgKHRoaXMucmVhbHRpbWUpIHtcclxuICAgICAgdGhpcy5jaGFubmVsID0gdGhpcy4kcHVzaGVyLnN1YnNjcmliZSgncHJpdmF0ZS1jb21tZW50LScgKyB0aGlzLnRoZW1lKTtcclxuXHJcbiAgICAgIHRoaXMuY2hhbm5lbC5iaW5kKGBjb21tZW50LSR7dGhpcy50aGVtZX0tJHtjb25maWcuY29tbWVudGFibGVJZH1gLCBvYmogPT4ge1xyXG4gICAgICAgIHRoaXMub25TdWNjZXNzKEpTT04ucGFyc2Uob2JqKSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5jaGFubmVsLmJpbmQoYGNvbW1lbnQtcmVwbHktJHt0aGlzLnRoZW1lfS0ke2NvbmZpZy5jb21tZW50YWJsZUlkfWAsIG9iaiA9PiB7XHJcbiAgICAgICAgdGhpcy5vblJlcGx5UHVzaGVyKEpTT04ucGFyc2Uob2JqKSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLmNoYW5uZWwuYmluZChgbGlrZS0ke3RoaXMudGhlbWV9LSR7Y29uZmlnLmNvbW1lbnRhYmxlSWR9YCwgb2JqID0+IHtcclxuICAgICAgICB0aGlzLm9uTGlrZVB1c2hlcihKU09OLnBhcnNlKG9iaikpXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5jaGFubmVsLmJpbmQoYHVubGlrZS0ke3RoaXMudGhlbWV9LSR7Y29uZmlnLmNvbW1lbnRhYmxlSWR9YCwgb2JqID0+IHtcclxuICAgICAgICB0aGlzLm9uVW5MaWtlUHVzaGVyKEpTT04ucGFyc2Uob2JqKSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLmNoYW5uZWwuYmluZChgbGlrZS1wb3N0LSR7dGhpcy50aGVtZX0tJHtjb25maWcuY29tbWVudGFibGVJZH1gLCBvYmogPT4ge1xyXG4gICAgICAgIHRoaXMub25MaWtlUG9zdFB1c2hlcihKU09OLnBhcnNlKG9iaikpXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5jaGFubmVsLmJpbmQoYHVubGlrZS1wb3N0LSR7dGhpcy50aGVtZX0tJHtjb25maWcuY29tbWVudGFibGVJZH1gLCBvYmogPT4ge1xyXG4gICAgICAgIHRoaXMub25Vbkxpa2VQb3N0UHVzaGVyKEpTT04ucGFyc2Uob2JqKSlcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IF90aGF0ID0gdGhpcztcclxuICAgICQoJy5uZXdIb3Q6bnRoLWNoaWxkKDEpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgdmFyIGNvbW1lbnRfZGl2ID0gd2luZG93LnRvcC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tbWVudHMnKTtcclxuICAgIHZhciB2dGZfY29tbWVudF9kaXYgPSB3aW5kb3cudG9wLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21tZW50cycpO1xyXG4gICAgaWYgKGNvbW1lbnRfZGl2KSB7XHJcbiAgICAgIHZhciBjb21tZW50X3dlYnZpZXcgPSBjb21tZW50X2Rpdi5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbW1lbnQtd2VidmlldycpO1xyXG4gICAgICB2YXIgdnRmX2NvbW1lbnQgPSB2dGZfY29tbWVudF9kaXYuY2xhc3NMaXN0LmNvbnRhaW5zKCd2dGZfY29tbWVudCcpO1xyXG4gICAgfVxyXG4gICAgaWYgKGNvbW1lbnRfd2Vidmlldykge1xyXG4gICAgICAkKCcuY210LWFtb3VudCcpLmFkZENsYXNzKCdsaWtlX3dlYnZpZXcnKTtcclxuICAgICAgJCgnI2NvbW1lbnQnKS5hZGRDbGFzcygnY29tbWVudF93ZWJ2aWV3Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAodnRmX2NvbW1lbnQpIHtcclxuICAgICAgJCgnI2NvbW1lbnQnKS5hZGRDbGFzcygndnRmX2NvbW1lbnQnKTtcclxuICAgIH1cclxuICAgIHZhciBkYXRhID0gY29uZmlnLmRhdGEuY29tbWVudHM7XHJcbiAgICBpZiAoZGF0YS5jb21tZW50cy5sZW5ndGggPT09IDAgJiYgZGF0YS50b3RhbCA+IDApIHtcclxuICAgICAgdGhpcy5mZXRjaCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IF90aGF0ID0gdGhpcztcclxuICAgICAgdGhpcy5jb21tZW50cyA9IGRhdGEuY29tbWVudHMucmV2ZXJzZSgpO1xyXG4gICAgICB0aGlzLmNvbW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHtcclxuICAgICAgICBWdWUuc2V0KF90aGF0LmNvbW1lbnRzW2tdLCAndG90YWxSZWxweScsIHYucmVwbGllcy5sZW5ndGgpO1xyXG4gICAgICAgIFZ1ZS5zZXQoX3RoYXQuY29tbWVudHNba10sICdmaWxsdGVyUmVscHknLCBmYWxzZSk7XHJcbiAgICAgICAgVnVlLnNldChfdGhhdC5jb21tZW50c1trXSwgJ2xpa2Vsb2FkaW5nJywgZmFsc2UpO1xyXG4gICAgICAgIF90aGF0LmNvbW1lbnRzW2tdLnJlcGxpZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgVnVlLnNldChfdGhhdC5jb21tZW50c1trXS5yZXBsaWVzW2tleV0sICdsaWtlcmVwbHlsb2FkaW5nJywgZmFsc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb25maWcuZGF0YS51c2VyICE9IG51bGwpIHtcclxuICAgICAgdmFyIGRhdGFVc2VyID0gY29uZmlnLmRhdGEudXNlcjtcclxuICAgICAgdGhpcy51c2VyX2RhdGEgPSBjb25maWcuZGF0YS51c2VyO1xyXG4gICAgICB0aGlzLmNvbW1lbnQuYXV0aG9yX25hbWUgPSBkYXRhVXNlci5uYW1lO1xyXG4gICAgICB0aGlzLmNvbW1lbnQuYXV0aG9yX2VtYWlsID0gZGF0YVVzZXIuZW1haWw7XHJcbiAgICAgIHRoaXMuY29tbWVudC51c2VyX2lkID0gZGF0YVVzZXIuaWQ7XHJcbiAgICAgIGlmIChjb25maWcuZGF0YS51c2VyLmF2YXRhciAhPSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5hdmF0YXIgPSBjb25maWcuZGF0YS51c2VyLmF2YXRhclxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYXZhdGFyID0gXCIvZGVmYXVsdC1hdmF0YXIuanBnXCJcclxuICAgICAgfVxyXG5cclxuICAgICAgX3RoYXQgPSB0aGlzO1xyXG4gICAgICB2YXIgdXNlcl9pZCA9IGRhdGFVc2VyLmlkO1xyXG4gICAgICBpZiAodGhpcy5jb3VudExpa2VQb3N0ID4gMCkge1xyXG4gICAgICAgIF90aGF0LnBvc3RMaWtlLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHtcclxuICAgICAgICAgIGlmICh1c2VyX2lkID09IHYudXNlcl9pZCkge1xyXG4gICAgICAgICAgICBfdGhhdC5jaGVja0xpa2VQb3N0ID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5jaGVja0xpa2VDb21tZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb250ZW50X2xpa2VfcmVwbHkgPSBjb25maWcuZGF0YS5jb21tZW50X2xpa2VfcmVwbHk7XHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQoJy5jb21tZW50LWFyZWEnKS5vbignY2xpY2snLCAnLnVwbG9hZC1pbWFnZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLm5leHQoKS5jbGljaygpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoJy5jb21tZW50LWFyZWEnKS5vbignY2hhbmdlJywgJy5maWxlLXVwbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcHJldmlldyA9ICQodGhpcykucGFyZW50cygnLmNvbW1lbnQtYXJlYScpLmZpbmQoJy5wcmV2aWV3X2ltYWdlJyk7XHJcbiAgICAgICAgdmFyIHRhcmdldEltZyA9IHByZXZpZXcuZmluZCgnaW1nJyk7XHJcbiAgICAgICAgcmVhZFVSTCh0aGlzLCB0YXJnZXRJbWcpO1xyXG5cclxuICAgICAgICBwcmV2aWV3LmNzcygnZGlzcGxheScsICdmbGV4Jyk7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuY29tbWVudC1hcmVhJykuZmluZCgnLmVtb2ppLXd5c2l3eWctZWRpdG9yJykuZm9jdXMoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAkKCcuY29tbWVudF9oZWFkJykub24oJ2NsaWNrJywgJy5ib3gtd3JpdGUtY29tbWVudC5yZXBseSAudXBsb2FkLWltYWdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykubmV4dCgpLmNsaWNrKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgJCgnLmNvbW1lbnRfaGVhZCcpLm9uKCdjaGFuZ2UnLCAnLmJveC13cml0ZS1jb21tZW50LnJlcGx5IC5maWxlLXVwbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcHJldmlldyA9ICQodGhpcykucGFyZW50cygnLmFjdGlvbi1yZXBseScpLmZpbmQoJy5wcmV2aWV3X2ltYWdlJyk7XHJcbiAgICAgICAgdmFyIHRhcmdldEltZyA9IHByZXZpZXcuZmluZCgnaW1nJyk7XHJcbiAgICAgICAgcmVhZFVSTCh0aGlzLCB0YXJnZXRJbWcpO1xyXG5cclxuICAgICAgICBwcmV2aWV3LmNzcygnZGlzcGxheScsICdmbGV4Jyk7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuY29udGVudC1jbXQyJykuZmluZCgnLmVtb2ppLXd5c2l3eWctZWRpdG9yJykuZm9jdXMoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAkKCcuY29tbWVudC1hcmVhJykub24oJ2NsaWNrJywgJy5idG4tY2xvc2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuY29tbWVudC1hcmVhJykuZmluZCgnLmZpbGUtdXBsb2FkJykudmFsKCk7XHJcblxyXG4gICAgICAgIC8vWOG7rSBsw70geMOzYSBpbWFnZVxyXG4gICAgICAgIHZhciBwcmV2aWV3ID0gJCh0aGlzKS5wYXJlbnRzKCcuY29tbWVudC1hcmVhJykuZmluZCgnLnByZXZpZXdfaW1hZ2UnKTtcclxuICAgICAgICBwcmV2aWV3LmZpbmQoJ2ltZycpLmF0dHIoJ3NyYycsICcnKTtcclxuXHJcbiAgICAgICAgcHJldmlldy5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG5cclxuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5jb21tZW50LWFyZWEnKS5maW5kKCcuZW1vamktd3lzaXd5Zy1lZGl0b3InKS5mb2N1cygpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoJy5jb21tZW50X2hlYWQnKS5vbignY2xpY2snLCAnLnByZXZpZXdfaW1hZ2UgLmJ0bi1jbG9zZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5hY3Rpb24tcmVwbHknKS5maW5kKCcuZmlsZS11cGxvYWQnKS52YWwoKTtcclxuXHJcbiAgICAgICAgLy9Y4butIGzDvSB4w7NhIGltYWdlXHJcbiAgICAgICAgdmFyIHByZXZpZXcgPSAkKHRoaXMpLnBhcmVudHMoJy5hY3Rpb24tcmVwbHknKS5maW5kKCcucHJldmlld19pbWFnZScpO1xyXG4gICAgICAgIHByZXZpZXcuZmluZCgnaW1nJykuYXR0cignc3JjJywgJycpO1xyXG5cclxuICAgICAgICBwcmV2aWV3LmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgJCgnLmNvbW1lbnQtYXJlYScpLmtleXByZXNzKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBrZXljb2RlID0gKGV2ZW50LmtleUNvZGUgPyBldmVudC5rZXlDb2RlIDogZXZlbnQud2hpY2gpO1xyXG4gICAgICAgIGlmIChrZXljb2RlID09ICcxMycgJiYgIWV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICBfdGhhdC5zYXZlQ29tbWVudCgpO1xyXG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0sIDEwMCk7XHJcbiAgICB0aGlzLmNvbW1lbnRGaWx0ZXJzID0gdGhpcy5jb21tZW50cy5zbGljZSgtKHRoaXMubnVtYmVyQ29tbWVudCksIHRoaXMuY29tbWVudHMubGVuZ3RoKTtcclxuICAgIHRoaXMudG90YWxDb21tZW50U2hvdyA9IHRoaXMuY29tbWVudEZpbHRlcnMubGVuZ3RoO1xyXG5cclxuICAgIHRoaXMuY29tbWVudEZpbHRlcnMuZm9yRWFjaChjb21tZW50ID0+IHtcclxuICAgICAgdGhpcy52aXNpYmxlQ29tbWVudHNbY29tbWVudC5pZF0gPSBjb21tZW50LnJlcGxpZXMuc2xpY2UoMCwgMCk7XHJcbiAgICAgIGNvbW1lbnQucmVwbGllcy5mb3JFYWNoKGNvbW1lbnRDaGlsZCA9PntcclxuICAgICAgICBpZihjb21tZW50Q2hpbGQucmVwbGllc19jaGlsZCAhPSB1bmRlZmluZWQgJiYgY29tbWVudENoaWxkLnJlcGxpZXNfY2hpbGQubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICB0aGlzLnZpc2libGVDb21tZW50c0NoaWxkW2NvbW1lbnRDaGlsZC5pZF0gPSBjb21tZW50Q2hpbGQucmVwbGllc19jaGlsZC5zbGljZSgwLDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7XHJcbiAgfSxcclxuICBtZXRob2RzOiB7XHJcbiAgICBoYW5kbGVNb3VzZU92ZXIoaWQpe1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTW91c2VPdXQoaWQpIHtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9LFxyXG4gICAgbG9hZE1vcmVSZXBsaWVzKGNvbW1lbnRJZCkge1xyXG4gICAgICAvLyBM4bqleSBz4buRIGzGsOG7o25nIGLDrG5oIGx14bqtbiBjb24gxJHDoyBoaeG7g24gdGjhu4sgY2hvIGLDrG5oIGx14bqtbiBjaGEgY8OzIGlkIGzDoCBjb21tZW50SWRcclxuICAgICAgY29uc3QgY3VycmVudExlbmd0aCA9IHRoaXMudmlzaWJsZUNvbW1lbnRzW2NvbW1lbnRJZF0ubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gVMOtbmggdG/DoW4gc+G7kSBsxrDhu6NuZyBiw6xuaCBsdeG6rW4gY29uIG3hu5tpIHPhur0gaGnhu4NuIHRo4buLIHNhdSBraGkgbmjhuqVuIFwiWGVtIHRow6ptXCJcclxuICAgICAgY29uc3QgbmV3TGVuZ3RoUmVwbGllcyA9IGN1cnJlbnRMZW5ndGggKyB0aGlzLmNvbW1lbnRzUGVyTG9hZDtcclxuXHJcbiAgICAgIC8vIFTDrG0gYsOsbmggbHXhuq1uIGNoYSB0aGVvIGNvbW1lbnRJZFxyXG4gICAgICBjb25zdCBwYXJlbnRDb21tZW50ID0gdGhpcy5jb21tZW50RmlsdGVycy5maW5kKGMgPT4gYy5pZCA9PT0gY29tbWVudElkKTtcclxuXHJcbiAgICAgIC8vIEtp4buDbSB0cmEgbuG6v3UgdMOsbSB0aOG6pXkgYsOsbmggbHXhuq1uIGNoYVxyXG4gICAgICBpZiAocGFyZW50Q29tbWVudCkge1xyXG4gICAgICAgIC8vIEPhuq1wIG5o4bqtdCB2aXNpYmxlQ29tbWVudHMgxJHhu4MgaGnhu4NuIHRo4buLIHRow6ptIGLDrG5oIGx14bqtbiBjb25cclxuICAgICAgICB0aGlzLiRzZXQodGhpcy52aXNpYmxlQ29tbWVudHMsIGNvbW1lbnRJZCwgcGFyZW50Q29tbWVudC5yZXBsaWVzLnNsaWNlKDAsIG5ld0xlbmd0aFJlcGxpZXMpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRJbnRlcnZhbEVtb2ppUGFyZW50KCk7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfSxcclxuICAgIGxvYWRNb3JlUmVwbGllc0NoaWxkKGNvbW1lbnRJZCkge1xyXG4gICAgICAvLyBM4bqleSBz4buRIGzGsOG7o25nIGLDrG5oIGx14bqtbiBjb24gxJHDoyBoaeG7g24gdGjhu4sgY2hvIGLDrG5oIGx14bqtbiBjaGEgY8OzIGlkIGzDoCBjb21tZW50SWRcclxuICAgICAgY29uc3QgY3VycmVudExlbmd0aCA9IHRoaXMudmlzaWJsZUNvbW1lbnRzQ2hpbGRbY29tbWVudElkXS5sZW5ndGg7XHJcblxyXG4gICAgICAvLyBUw61uaCB0b8OhbiBz4buRIGzGsOG7o25nIGLDrG5oIGx14bqtbiBjb24gbeG7m2kgc+G6vSBoaeG7g24gdGjhu4sgc2F1IGtoaSBuaOG6pW4gXCJYZW0gdGjDqm1cIlxyXG4gICAgICBjb25zdCBuZXdMZW5ndGhSZXBsaWVzQ2hpbGQgPSBjdXJyZW50TGVuZ3RoICsgdGhpcy5jb21tZW50c0NoaWxkUGVyTG9hZDtcclxuXHJcbiAgICAgIC8vIFTDrG0gYsOsbmggbHXhuq1uIGNvbiAoY8OzIGlkIGzDoCBjb21tZW50SWQpIHRyb25nIGPDoWMgYsOsbmggbHXhuq1uIGNoYSBob+G6t2MgYsOsbmggbHXhuq1uIGNvbiBj4bunYSBiw6xuaCBsdeG6rW4gY2hhXHJcbiAgICAgIGxldCBwYXJlbnRDb21tZW50Q2hpbGQ7XHJcblxyXG4gICAgICBmb3IgKGxldCBwYXJlbnRDb21tZW50IG9mIHRoaXMuY29tbWVudEZpbHRlcnMpIHtcclxuICAgICAgICBwYXJlbnRDb21tZW50Q2hpbGQgPSBwYXJlbnRDb21tZW50LnJlcGxpZXMuZmluZChjaGlsZCA9PiBjaGlsZC5pZCA9PT0gY29tbWVudElkKTtcclxuICAgICAgICBpZiAocGFyZW50Q29tbWVudENoaWxkKSBicmVhazsgLy8gROG7q25nIHbDsm5nIGzhurdwIGtoaSB0w6xtIHRo4bqleSBiw6xuaCBsdeG6rW4gY29uXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEtp4buDbSB0cmEgbuG6v3UgdMOsbSB0aOG6pXkgYsOsbmggbHXhuq1uIGNvblxyXG4gICAgICBpZiAocGFyZW50Q29tbWVudENoaWxkKSB7XHJcbiAgICAgICAgLy8gQ+G6rXAgbmjhuq10IHZpc2libGVDb21tZW50c0NoaWxkIMSR4buDIGhp4buDbiB0aOG7iyB0aMOqbSBiw6xuaCBsdeG6rW4gY29uIGPhu6dhIGLDrG5oIGx14bqtbiBjb25cclxuICAgICAgICB0aGlzLiRzZXQodGhpcy52aXNpYmxlQ29tbWVudHNDaGlsZCwgY29tbWVudElkLCBwYXJlbnRDb21tZW50Q2hpbGQucmVwbGllc19jaGlsZC5zbGljZSgwLCBuZXdMZW5ndGhSZXBsaWVzQ2hpbGQpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRJbnRlcnZhbEVtb2ppUGFyZW50KCk7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfSxcclxuICAgIGNoZWNrTGlrZUNvbW1lbnQoKSB7XHJcbiAgICAgIHZhciBfdGhhdCA9IHRoaXM7XHJcbiAgICAgIHZhciB1c2VyX2lkID0gY29uZmlnLmRhdGEudXNlci5pZDtcclxuICAgICAgaWYgKHRoaXMuY29tbWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHRoaXMuY29tbWVudHMuZm9yRWFjaChmdW5jdGlvbiAodiwgaykge1xyXG4gICAgICAgICAgaWYgKHYudm90ZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2LnZvdGVkLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgICBpZiAodmFsdWUudXNlcl9pZCA9PSB1c2VyX2lkKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhhdC5jb21tZW50c1trXS5pc1ZvdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBfdGhhdC5jb21tZW50c1trXS5pc1ZvdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHYucmVwbGllcyAhPSB1bmRlZmluZWQgJiYgdi5yZXBsaWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdi5yZXBsaWVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICB2YXIgdm90ZWQgPSBhLnZvdGVkO1xyXG4gICAgICAgICAgICAgIGlmICh2b3RlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2b3RlZC5mb3JFYWNoKGZ1bmN0aW9uIChjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChjLnVzZXJfaWQgPT0gdXNlcl9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGF0LmNvbW1lbnRzW2tdLnJlcGxpZXNbYl0uaXNWb3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhhdC5jb21tZW50c1trXS5yZXBsaWVzW2JdLmlzVm90ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKGEucmVwbGllc19jaGlsZCAhPSB1bmRlZmluZWQgJiYgYS5yZXBsaWVzX2NoaWxkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGEucmVwbGllc19jaGlsZC5mb3JFYWNoKGZ1bmN0aW9uIChlLCBmKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciB2b3RlZCA9IGUudm90ZWQ7XHJcbiAgICAgICAgICAgICAgICAgIGlmICh2b3RlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm90ZWQuZm9yRWFjaChmdW5jdGlvbiAoYywgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGMudXNlcl9pZCA9PSB1c2VyX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGF0LmNvbW1lbnRzW2tdLnJlcGxpZXNbYl0ucmVwbGllc19jaGlsZFtmXS5pc1ZvdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoYXQuY29tbWVudHNba10ucmVwbGllc1tiXS5yZXBsaWVzX2NoaWxkW2ZdLmlzVm90ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmaWxsdGVyRGF0YShvcmRlciwgaW5kZXgpIHtcclxuICAgICAgdmFyIF90aGF0ID0gdGhpcztcclxuICAgICAgaWYgKGluZGV4ID09IDApIHtcclxuICAgICAgICAkKCcubmV3SG90Om50aC1jaGlsZCgxKScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkKCcubmV3SG90Om50aC1jaGlsZCgyKScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaW5kZXggPT0gMSkge1xyXG4gICAgICAgICQoJy5uZXdIb3Q6bnRoLWNoaWxkKDEpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoJy5uZXdIb3Q6bnRoLWNoaWxkKDIpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBfdGhhdCA9IHRoaXM7XHJcbiAgICAgIHRoaXMubG9hZGRpbmdDb21tZW50ID0gdHJ1ZTtcclxuICAgICAgdGhpcy5vcmRlciA9IG9yZGVyO1xyXG4gICAgICB0aGlzLnBhZ2UgPSAxO1xyXG4gICAgICB0aGlzLmZldGNoKCk7XHJcbiAgICB9LFxyXG4gICAgY2hlY2tWb3RlKGNvbW1lbnQsIHR5cGUsIGluZGV4KSB7XHJcbiAgICAgIGlmICh0aGlzLmNoZWNrID09IHRydWUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy52b3RlQ29tbWVudChjb21tZW50LCB0eXBlLCBpbmRleCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNoZWNrVm90ZVJlcGx5KGNvbW1lbnQsIGluZGV4Q29tZW50LCBpbmRleCkge1xyXG4gICAgICBpZiAodGhpcy5jaGVja1JlcGx5ID09IHRydWUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy52b3RlQ29tbWVudFJlcGx5KGNvbW1lbnQsIGluZGV4Q29tZW50LCBpbmRleClcclxuICAgIH0sXHJcblxyXG4gICAgY2hlY2tWb3RlUmVwbHlDaGlsZChjb21tZW50LCBpbmRleENvbWVudCwgaW5kZXgpIHtcclxuICAgICAgaWYgKHRoaXMuY2hlY2tSZXBseUNoaWxkID09IHRydWUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy52b3RlQ29tbWVudFJlcGx5Q2hpbGQoY29tbWVudCwgaW5kZXhDb21lbnQsIGluZGV4KVxyXG4gICAgfSxcclxuXHJcbiAgICB2b3RlQ29tbWVudChjb21tZW50LCB0eXBlLCBpbmRleCkge1xyXG4gICAgICB2YXIgY29tbWVudF9pZCA9IGNvbW1lbnQuaWQ7XHJcbiAgICAgIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhdWydsaWtlbG9hZGluZyddID0gdHJ1ZTtcclxuICAgICAgaWYgKCFjb21tZW50LmlzVm90ZWQpIHtcclxuICAgICAgICB0aGlzLmNoZWNrID0gdHJ1ZTtcclxuICAgICAgICBheGlvcy5wb3N0KCcvY29tbWVudHMvbGlrZScsIHtcclxuICAgICAgICAgICAgY29tbWVudF9pZDogY29tbWVudF9pZCxcclxuICAgICAgICAgICAgdHlwZTogdHlwZSAsXHJcbiAgICAgICAgICAgIHBvc3RfaWQ6IGNvbmZpZy5jb21tZW50YWJsZUlkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4XVsnbGlrZWxvYWRpbmcnXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4XVsnaXNWb3RlZCddID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZGluZ0NvbW1lbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gMjAwKSB7XHJcblxyXG4gICAgICAgICAgICAgIHZhciBkYXRhUmVzcG9uID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgIHZhciBkYXRhX3ZvdGUgPSB7XHJcbiAgICAgICAgICAgICAgICBjb21tZW50X2lkOiBkYXRhUmVzcG9uLmNvbW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0OiBkYXRhUmVzcG9uLmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgICAgICAgICBpZDogZGF0YVJlc3Bvbi5pZCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY29tbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdDogZGF0YVJlc3Bvbi51cGRhdGVkX2F0LFxyXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogZGF0YVJlc3Bvbi51cGRhdGVkX2F0XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBjb21tZW50LmlzVm90ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIC8vIE7hur91IGzDoCB0cmFuZyB0ZXN0IHRow6wgc+G6vSBt4bufIGzDqm4gxJHhu4MgdGVzdCB2w6wga2jDtG5nIGPDsyBwdXNoZXJcclxuICAgICAgICAgICAgICAvLyB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4XVsnaXNWb3RlZCddID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAvLyB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4XVsndm90ZWQnXS5sZW5ndGggPSBwYXJzZUludCh0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4XVsndm90ZWQnXS5sZW5ndGgpICsgMTtcclxuICAgICAgICAgICAgICAvLyB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4XVsndm90ZWQnXS5wdXNoKGRhdGFfdm90ZSk7XHJcbiAgICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IoJ8SQw6MgeOG6o3kgcmEgbOG7l2kgISBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoJ8SQw6MgeOG6o3kgcmEgbOG7l2kgISBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZGluZ0NvbW1lbnQgPSBmYWxzZTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgdmFyIF90aGF0ID0gdGhpcztcclxuICAgICAgaWYgKGNvbW1lbnQuaXNWb3RlZCkge1xyXG4gICAgICAgIHRoaXMuY2hlY2sgPSB0cnVlO1xyXG4gICAgICAgIGF4aW9zLnBvc3QoJy9jb21tZW50cy9yZW1vdmUtbGlrZScsIHtcclxuICAgICAgICAgIGNvbW1lbnRfaWQ6IGNvbW1lbnRfaWQsXHJcbiAgICAgICAgICBwb3N0X2lkOiBjb25maWcuY29tbWVudGFibGVJZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleF1bJ2xpa2Vsb2FkaW5nJ10gPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleF1bJ2lzVm90ZWQnXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGRpbmdDb21tZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgICAgICBjb21tZW50LmlzVm90ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAvLyBO4bq/dSBsw6AgdHJhbmcgdGVzdCB0aMOsIHPhur0gbeG7nyBsw6puIMSR4buDIHRlc3QgdsOsIGtow7RuZyBjw7MgcHVzaGVyXHJcbiAgICAgICAgICAgICAgLy8gdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleF1bJ2lzVm90ZWQnXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIC8vIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhdWyd2b3RlZCddLmxlbmd0aCA9IHBhcnNlSW50KHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhdWyd2b3RlZCddLmxlbmd0aCkgLSAxO1xyXG4gICAgICAgICAgICAgIC8vIHZhciBkYXRhUmVzcG9uID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgIC8vIHRoaXMuY29tbWVudHNbaW5kZXhdWyd2b3RlZCddLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHtcclxuICAgICAgICAgICAgICAvLyAgIGlmICh2LmlkID09IGRhdGFSZXNwb24uaWQpIHtcclxuICAgICAgICAgICAgICAvLyAgICAgX3RoYXQuY29tbWVudHNbaW5kZXhdWyd2b3RlZCddLnNwbGljZShrLCAxKTtcclxuICAgICAgICAgICAgICAvLyAgIH1cclxuICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMub25FcnJvcignxJDDoyB44bqjeSByYSBs4buXaSAhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25FcnJvcignxJDDoyB44bqjeSByYSBs4buXaSAhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUnKTtcclxuICAgICAgICAgICAgdGhpcy5jaGVjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRkaW5nQ29tbWVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9uVW5MaWtlQ29tbWVudFB1c2hlcihyZXNwb25zZSkge1xyXG4gICAgICBsZXQgaW5kZXggPSB0aGlzLmNvbW1lbnRGaWx0ZXJzLmZpbmRJbmRleChlID0+IGUuaWQgPT0gcmVzcG9uc2UuY29tbWVudF9pZCk7XHJcbiAgICAgIHZhciBfdGhhdFVubGlrZSA9IHRoaXM7XHJcbiAgICAgIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhdWydsaWtlbG9hZGluZyddID0gZmFsc2U7XHJcbiAgICAgIGlmIChyZXNwb25zZS51c2VyX2lkID09PSBjb25maWcuZGF0YS51c2VyLmlkKSB7XHJcbiAgICAgICAgdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleF1bJ2lzVm90ZWQnXSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29tbWVudHNbaW5kZXhdWydpc1ZvdGVkJ10gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmNoZWNrID0gZmFsc2U7XHJcbiAgICAgIHRoaXMubG9hZGRpbmdDb21tZW50ID0gZmFsc2U7XHJcbiAgICAgIGxldCBkYXRhUmVzcG9uUHVzaGVyID0gcmVzcG9uc2U7XHJcbiAgICAgIHRoaXMuY29tbWVudHNbaW5kZXhdWyd2b3RlZCddLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHtcclxuICAgICAgICBpZiAodi5pZCA9PSBkYXRhUmVzcG9uUHVzaGVyLmlkKSB7XHJcbiAgICAgICAgICBfdGhhdFVubGlrZS5jb21tZW50c1tpbmRleF1bJ3ZvdGVkJ10uc3BsaWNlKGssIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uTGlrZVB1c2hlcihyZXNwb25zZSkge1xyXG4gICAgICBpZiAocmVzcG9uc2UucGFyZW50X2lkKSB7XHJcbiAgICAgICAgdGhpcy5vbkxpa2VSZXBseVB1c2hlcihyZXNwb25zZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5vbkxpa2VDb21tZW50UHVzaGVyKHJlc3BvbnNlKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvblVuTGlrZVB1c2hlcihyZXNwb25zZSkge1xyXG4gICAgICBpZiAocmVzcG9uc2UucGFyZW50X2lkKSB7XHJcbiAgICAgICAgdGhpcy5vblVuTGlrZVJlcGx5UHVzaGVyKHJlc3BvbnNlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm9uVW5MaWtlQ29tbWVudFB1c2hlcihyZXNwb25zZSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgb25MaWtlQ29tbWVudFB1c2hlcihyZXNwb25zZSkge1xyXG4gICAgICBsZXQgaW5kZXggPSB0aGlzLmNvbW1lbnRGaWx0ZXJzLmZpbmRJbmRleChlID0+IGUuaWQgPT0gcmVzcG9uc2UuY29tbWVudF9pZCk7XHJcbiAgICAgIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhdWydsaWtlbG9hZGluZyddID0gZmFsc2U7XHJcbiAgICAgIGlmIChyZXNwb25zZS51c2VyX2lkID09PSBjb25maWcuZGF0YS51c2VyLmlkKSB7XHJcbiAgICAgICAgdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleF1bJ2lzVm90ZWQnXSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5sb2FkZGluZ0NvbW1lbnQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5jaGVjayA9IGZhbHNlO1xyXG4gICAgICB2YXIgZGF0YVJlc3BvbiA9IHJlc3BvbnNlO1xyXG4gICAgICB2YXIgZGF0YV92b3RlID0ge1xyXG4gICAgICAgIGNvbW1lbnRfaWQ6IGRhdGFSZXNwb24uY29tbWVudF9pZCxcclxuICAgICAgICBjcmVhdGVkX2F0OiBkYXRhUmVzcG9uLmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgaWQ6IGRhdGFSZXNwb24uaWQsXHJcbiAgICAgICAgdHlwZTogXCJjb21tZW50XCIsXHJcbiAgICAgICAgdXBkYXRlZF9hdDogZGF0YVJlc3Bvbi51cGRhdGVkX2F0LFxyXG4gICAgICAgIHVzZXJfaWQ6IGRhdGFSZXNwb24udXBkYXRlZF9hdFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleF1bJ3ZvdGVkJ10ucHVzaChkYXRhX3ZvdGUpO1xyXG4gICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbkxpa2VSZXBseVB1c2hlcihyZXNwb25zZSkge1xyXG4gICAgICBsZXQgaW5kZXhDb21lbnQgPSB0aGlzLmNvbW1lbnRGaWx0ZXJzLmZpbmRJbmRleChlID0+IGUuaWQgPT0gcmVzcG9uc2UucGFyZW50X2lkKTtcclxuICAgICAgbGV0IGluZGV4ID0gdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllcy5maW5kSW5kZXgoZSA9PiBlLmlkID09IHJlc3BvbnNlLmNvbW1lbnRfaWQpXHJcbiAgICAgIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXNbaW5kZXhdLmxpa2VyZXBseWxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgaWYgKHJlc3BvbnNlLnVzZXJfaWQgPT09IGNvbmZpZy5kYXRhLnVzZXIuaWQpIHtcclxuICAgICAgICB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzW2luZGV4XS5pc1ZvdGVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmNoZWNrUmVwbHkgPSBmYWxzZTtcclxuICAgICAgdmFyIGRhdGFSZXNwb24gPSByZXNwb25zZTtcclxuICAgICAgdmFyIGRhdGFfdm90ZSA9IHtcclxuICAgICAgICBjb21tZW50X2lkOiBkYXRhUmVzcG9uLmNvbW1lbnRfaWQsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogZGF0YVJlc3Bvbi5jcmVhdGVkX2F0LFxyXG4gICAgICAgIGlkOiBkYXRhUmVzcG9uLmlkLFxyXG4gICAgICAgIHR5cGU6IFwicmVwbHlcIixcclxuICAgICAgICB1cGRhdGVkX2F0OiBkYXRhUmVzcG9uLnVwZGF0ZWRfYXQsXHJcbiAgICAgICAgdXNlcl9pZDogZGF0YVJlc3Bvbi51cGRhdGVkX2F0XHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXNbaW5kZXhdWyd2b3RlZCddLnB1c2goZGF0YV92b3RlKTtcclxuICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25Vbkxpa2VSZXBseVB1c2hlcihyZXNwb25zZSkge1xyXG4gICAgICBsZXQgX3RoYXQgPSB0aGlzO1xyXG4gICAgICBsZXQgaW5kZXhDb21lbnQgPSB0aGlzLmNvbW1lbnRGaWx0ZXJzLmZpbmRJbmRleChlID0+IGUuaWQgPT0gcmVzcG9uc2UucGFyZW50X2lkKTtcclxuICAgICAgbGV0IGluZGV4ID0gdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllcy5maW5kSW5kZXgoZSA9PiBlLmlkID09IHJlc3BvbnNlLmNvbW1lbnRfaWQpXHJcbiAgICAgIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXNbaW5kZXhdLmxpa2VyZXBseWxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgdGhpcy5jaGVja1JlcGx5ID0gZmFsc2U7XHJcbiAgICAgIGlmIChyZXNwb25zZS51c2VyX2lkID09PSBjb25maWcuZGF0YS51c2VyLmlkKSB7XHJcbiAgICAgICAgdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllc1tpbmRleF1bJ2lzVm90ZWQnXSA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBkYXRhUmVzcG9uID0gcmVzcG9uc2U7XHJcbiAgICAgIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXNbaW5kZXhdWyd2b3RlZCddLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHtcclxuICAgICAgICBpZiAodi5pZCA9PSBkYXRhUmVzcG9uLmlkKSB7XHJcbiAgICAgICAgICBfdGhhdC5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllc1tpbmRleF1bJ3ZvdGVkJ10uc3BsaWNlKGssIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy9sb2FkIHRow6ptIGNvbW1lbnRcclxuICAgIGxvYWRDb21tZW50KHBhZ2UpIHtcclxuICAgICAgdmFyIF90aGF0ID0gdGhpcztcclxuICAgICAgdmFyIHVybCA9ICcvY29tbWVudHM/cGFnZT0nICsgcGFnZSArICcmcGVybWFsaW5rPScgKyB0aGlzLnBlcm1hbGluayArICcmcGFnZV9pZD0nICsgY29uZmlnLnBhZ2VJZCArICcmY29tbWVudGFibGVfaWQ9JyArIGNvbmZpZy5jb21tZW50YWJsZUlkICsgJyZjb21tZW50YWJsZV90eXBlPScgKyBjb25maWcuY29tbWVudGFibGVUeXBlICsgJyZvcmRlcj0nICsgdGhpcy5vcmRlcjtcclxuICAgICAgYXhpb3MuZ2V0KHVybClcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNvbW1lbnRfbG9hZG1vcmUgPSByZXNwb25zZS5kYXRhLmNvbW1lbnRzO1xyXG4gICAgICAgICAgdGhpcy5jb21tZW50X2xvYWRtb3JlLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHtcclxuICAgICAgICAgICAgLy8gdi5saWtlbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBWdWUuc2V0KF90aGF0LmNvbW1lbnRfbG9hZG1vcmVba10sICdsaWtlbG9hZGluZycsIGZhbHNlKTtcclxuICAgICAgICAgICAgX3RoYXQuY29tbWVudF9sb2FkbW9yZVtrXS5yZXBsaWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgICBWdWUuc2V0KF90aGF0LmNvbW1lbnRfbG9hZG1vcmVba10ucmVwbGllc1trZXldLCAnbGlrZXJlcGx5bG9hZGluZycsIGZhbHNlKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgX3RoYXQuY29tbWVudHMudW5zaGlmdCh2KTtcclxuICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSBu4bq/dSBiw6xuaCBsdeG6rW4gbeG7m2kgY2jGsGEgY8OzIHRyb25nIHZpc2libGVDb21tZW50cyB0aMOsIGto4bufaSB04bqhbyBuw7NcclxuICAgICAgICAgICAgaWYgKCFfdGhhdC52aXNpYmxlQ29tbWVudHNbdi5pZF0pIHtcclxuICAgICAgICAgICAgICBfdGhhdC4kc2V0KF90aGF0LnZpc2libGVDb21tZW50cywgdi5pZCwgdi5yZXBsaWVzLnNsaWNlKDAsIDApKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSB2w6Aga2jhu59pIHThuqFvIHZpc2libGVDb21tZW50c0NoaWxkIGNobyBjw6FjIGLDrG5oIGx14bqtbiBjb25cclxuICAgICAgICAgICAgdi5yZXBsaWVzLmZvckVhY2goY29tbWVudENoaWxkID0+IHtcclxuICAgICAgICAgICAgICBpZiAoY29tbWVudENoaWxkLnJlcGxpZXNfY2hpbGQgIT0gdW5kZWZpbmVkICYmIGNvbW1lbnRDaGlsZC5yZXBsaWVzX2NoaWxkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmICghX3RoYXQudmlzaWJsZUNvbW1lbnRzQ2hpbGRbY29tbWVudENoaWxkLmlkXSkge1xyXG4gICAgICAgICAgICAgICAgICBfdGhhdC4kc2V0KF90aGF0LnZpc2libGVDb21tZW50c0NoaWxkLCBjb21tZW50Q2hpbGQuaWQsIGNvbW1lbnRDaGlsZC5yZXBsaWVzX2NoaWxkLnNsaWNlKDAsIDApKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpZiAoX3RoYXQuY29tbWVudHMubGVuZ3RoID4gX3RoYXQubnVtYmVyQ29tbWVudCkge1xyXG4gICAgICAgICAgICBfdGhhdC5jb21tZW50RmlsdGVycyA9IF90aGF0LmNvbW1lbnRzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy50b3RhbENvbW1lbnRTaG93ID0gdGhpcy5jb21tZW50RmlsdGVycy5sZW5ndGg7XHJcbiAgICAgICAgICB0aGlzLmNvbW1lbnRGaWx0ZXJzLmZvckVhY2goY29tbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZUNvbW1lbnRzW2NvbW1lbnQuaWRdID0gY29tbWVudC5yZXBsaWVzLnNsaWNlKDAsIDApO1xyXG4gICAgICAgICAgICBjb21tZW50LnJlcGxpZXMuZm9yRWFjaChjb21tZW50Q2hpbGQgPT57XHJcbiAgICAgICAgICAgICAgaWYoY29tbWVudENoaWxkLnJlcGxpZXNfY2hpbGQgIT0gdW5kZWZpbmVkICYmIGNvbW1lbnRDaGlsZC5yZXBsaWVzX2NoaWxkLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlQ29tbWVudHNDaGlsZFtjb21tZW50Q2hpbGQuaWRdID0gY29tbWVudENoaWxkLnJlcGxpZXNfY2hpbGQuc2xpY2UoMCwwKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHRoaXMuY2hlY2tMaWtlQ29tbWVudCgpO1xyXG4gICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICAgIHRoaXMubG9hZG1vcmV3YXRjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW50ZXJ2YWxFbW9qaVBhcmVudCgpO1xyXG4gICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGRyb3Bkb3duTWVudSgpIHtcclxuICAgICAgJCgnLmRyb3Bkb3duLW1lbnUnKS50b2dnbGVDbGFzcygnc2hvdycpO1xyXG4gICAgfSxcclxuICAgIHZvdGVDb21tZW50UmVwbHkoY29tbWVudCwgaW5kZXhDb21lbnQsIGluZGV4KSB7XHJcbiAgICAgIGxldCBpbmRleFJlcCA9IHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXMuc2xpY2UoKS5yZXZlcnNlKCkuZmluZEluZGV4KGMgPT4gYy5pZCA9PT0gY29tbWVudC5pZCk7XHJcblxyXG4gICAgICB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzLnNsaWNlKCkucmV2ZXJzZSgpW2luZGV4UmVwXS5saWtlcmVwbHlsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgdGhpcy5jaGVja1JlcGx5ID0gdHJ1ZTtcclxuICAgICAgLy8gdGhpcy5sb2FkZGluZ0NvbW1lbnQgPSB0cnVlO1xyXG4gICAgICB2YXIgY29tbWVudF9pZCA9IGNvbW1lbnQuaWQ7XHJcbiAgICAgIGlmICghY29tbWVudC5pc1ZvdGVkKSB7XHJcbiAgICAgICAgYXhpb3MucG9zdCgnL2NvbW1lbnRzL2xpa2UnLCB7Y29tbWVudF9pZDogY29tbWVudF9pZCwgdHlwZTogJ3JlcGx5JywgcG9zdF9pZDogY29uZmlnLmNvbW1lbnRhYmxlSWR9KVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzLnNsaWNlKCkucmV2ZXJzZSgpW2luZGV4UmVwXS5saWtlcmVwbHlsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXMuc2xpY2UoKS5yZXZlcnNlKClbaW5kZXhdLmlzVm90ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrUmVwbHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgIHZhciBkYXRhUmVzcG9uID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgIHZhciBkYXRhX3ZvdGUgPSB7XHJcbiAgICAgICAgICAgICAgICBjb21tZW50X2lkOiBkYXRhUmVzcG9uLmNvbW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0OiBkYXRhUmVzcG9uLmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgICAgICAgICBpZDogZGF0YVJlc3Bvbi5pZCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVwbHlcIixcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IGRhdGFSZXNwb24udXBkYXRlZF9hdCxcclxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IGRhdGFSZXNwb24udXBkYXRlZF9hdFxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgY29tbWVudC5pc1ZvdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAvLyBO4bq/dSBsw6AgdHJhbmcgdGVzdCB0aMOsIHPhur0gbeG7nyBsw6puIMSR4buDIHRlc3QgdsOsIGtow7RuZyBjw7MgcHVzaGVyXHJcbiAgICAgICAgICAgICAgLy8gdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllcy5zbGljZSgpLnJldmVyc2UoKVtpbmRleFJlcF1bJ2lzVm90ZWQnXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgLy8gdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllcy5zbGljZSgpLnJldmVyc2UoKVtpbmRleFJlcF1bJ3ZvdGVkJ10ubGVuZ3RoID0gcGFyc2VJbnQodGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllcy5zbGljZSgpLnJldmVyc2UoKVtpbmRleF1bJ3ZvdGVkJ10ubGVuZ3RoKSArIDE7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXMuc2xpY2UoKS5yZXZlcnNlKClbaW5kZXhdWydpc1ZvdGVkJ10gPSB0cnVlO1xyXG4gICAgICAgICAgICAgIC8vIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXMuc2xpY2UoKS5yZXZlcnNlKClbaW5kZXhdWyd2b3RlZCddLnB1c2goZGF0YV92b3RlKTtcclxuICAgICAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMub25FcnJvcignxJDDoyB44bqjeSByYSBs4buXaSAhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tSZXBseSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRkaW5nQ29tbWVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoJ8SQw6MgeOG6o3kgcmEgbOG7l2kgISBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1Jyk7XHJcblxyXG4gICAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICB2YXIgX3RoYXQgPSB0aGlzO1xyXG4gICAgICBpZiAoY29tbWVudC5pc1ZvdGVkKSB7XHJcbiAgICAgICAgYXhpb3MucG9zdCgnL2NvbW1lbnRzL3JlbW92ZS1saWtlJywge2NvbW1lbnRfaWQ6IGNvbW1lbnRfaWQsIHBvc3RfaWQ6IGNvbmZpZy5jb21tZW50YWJsZUlkfSlcclxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllcy5zbGljZSgpLnJldmVyc2UoKVtpbmRleFJlcF0ubGlrZXJlcGx5bG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzLnNsaWNlKCkucmV2ZXJzZSgpW2luZGV4XS5pc1ZvdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tSZXBseSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgY29tbWVudC5pc1ZvdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgLy8gTuG6v3UgbMOgIHRyYW5nIHRlc3QgdGjDrCBz4bq9IG3hu58gbMOqbiDEkeG7gyB0ZXN0IHbDrCBraMO0bmcgY8OzIHB1c2hlclxyXG4gICAgICAgICAgICAgIC8vIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXMuc2xpY2UoKS5yZXZlcnNlKClbaW5kZXhSZXBdWydpc1ZvdGVkJ10gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAvLyB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzLnNsaWNlKCkucmV2ZXJzZSgpW2luZGV4UmVwXVsndm90ZWQnXS5sZW5ndGggPSBwYXJzZUludCh0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzLnNsaWNlKCkucmV2ZXJzZSgpW2luZGV4XVsndm90ZWQnXS5sZW5ndGgpIC0gMTtcclxuICAgICAgICAgICAgICAvLyB2YXIgZGF0YVJlc3BvbiA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAvLyB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzLnNsaWNlKCkucmV2ZXJzZSgpW2luZGV4XVsndm90ZWQnXS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7XHJcbiAgICAgICAgICAgICAgLy8gICBpZiAodi5pZCA9PSBkYXRhUmVzcG9uLmlkKSB7XHJcbiAgICAgICAgICAgICAgLy8gICAgIF90aGF0LmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzLnNsaWNlKCkucmV2ZXJzZSgpW2luZGV4XVsndm90ZWQnXS5zcGxpY2UoaywgMSk7XHJcbiAgICAgICAgICAgICAgLy8gICB9XHJcbiAgICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLmxvYWRkaW5nQ29tbWVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIHRoaXMub25FcnJvcignxJDDoyB44bqjeSByYSBs4buXaSAhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUnKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrUmVwbHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5vbkVycm9yKCfEkMOjIHjhuqN5IHJhIGzhu5dpICEgVnVpIGzDsm5nIHRo4butIGzhuqFpIHNhdScpO1xyXG5cclxuICAgICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB2b3RlQ29tbWVudFJlcGx5Q2hpbGQoY29tbWVudCwgaW5kZXhDb21lbnQsIGluZGV4KSB7XHJcbiAgICAgIC8vIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXMuc2xpY2UoKS5yZXZlcnNlKClbaW5kZXhdLmxpa2VyZXBseWxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICB0aGlzLmNoZWNrUmVwbHlDaGlsZCA9IHRydWU7XHJcbiAgICAgIC8vIHRoaXMubG9hZGRpbmdDb21tZW50ID0gdHJ1ZTtcclxuICAgICAgdmFyIGNvbW1lbnRfaWQgPSBjb21tZW50LmlkO1xyXG4gICAgICBpZiAoIWNvbW1lbnQuaXNWb3RlZCkge1xyXG4gICAgICAgIGF4aW9zLnBvc3QoJy9jb21tZW50cy9saWtlJywge2NvbW1lbnRfaWQ6IGNvbW1lbnRfaWQsIHR5cGU6ICdyZXBseScsIHBvc3RfaWQ6IGNvbmZpZy5jb21tZW50YWJsZUlkfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXMuc2xpY2UoKS5yZXZlcnNlKClbaW5kZXhdLmxpa2VyZXBseWxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAvLyB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzLnNsaWNlKCkucmV2ZXJzZSgpW2luZGV4XS5pc1ZvdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB0aGlzLmNoZWNrUmVwbHlDaGlsZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhUmVzcG9uID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGFfdm90ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgY29tbWVudF9pZDogZGF0YVJlc3Bvbi5jb21tZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICBjcmVhdGVkX2F0OiBkYXRhUmVzcG9uLmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgICAgICAgICAgIGlkOiBkYXRhUmVzcG9uLmlkLFxyXG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInJlcGx5XCIsXHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IGRhdGFSZXNwb24udXBkYXRlZF9hdCxcclxuICAgICAgICAgICAgICAgICAgdXNlcl9pZDogZGF0YVJlc3Bvbi51cGRhdGVkX2F0XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29tbWVudC5pc1ZvdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXhDaGlsZCA9IHRoaXMudmlzaWJsZUNvbW1lbnRzQ2hpbGRbaW5kZXhDb21lbnRdLmZpbmRJbmRleChjID0+IGMuaWQgPT09IGNvbW1lbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudmlzaWJsZUNvbW1lbnRzQ2hpbGRbaW5kZXhDb21lbnRdW2luZGV4Q2hpbGRdLCAnaXNWb3RlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZpc2libGVDb21tZW50c0NoaWxkW2luZGV4Q29tZW50XVtpbmRleENoaWxkXS5oYXNPd25Qcm9wZXJ0eSgndm90ZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy52aXNpYmxlQ29tbWVudHNDaGlsZFtpbmRleENvbWVudF1baW5kZXhDaGlsZF0sICd2b3RlZCcsIFtdKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlQ29tbWVudHNDaGlsZFtpbmRleENvbWVudF1baW5kZXhDaGlsZF1bJ3ZvdGVkJ10ubGVuZ3RoID0gcGFyc2VJbnQodGhpcy52aXNpYmxlQ29tbWVudHNDaGlsZFtpbmRleENvbWVudF1baW5kZXhDaGlsZF1bJ3ZvdGVkJ10ubGVuZ3RoKSArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzLnNsaWNlKCkucmV2ZXJzZSgpW2luZGV4XVsnaXNWb3RlZCddID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXMuc2xpY2UoKS5yZXZlcnNlKClbaW5kZXhdWyd2b3RlZCddLmxlbmd0aCA9IHBhcnNlSW50KHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXMuc2xpY2UoKS5yZXZlcnNlKClbaW5kZXhdWyd2b3RlZCddLmxlbmd0aCkgKyAxO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllcy5zbGljZSgpLnJldmVyc2UoKVtpbmRleF1bJ3ZvdGVkJ10ucHVzaChkYXRhX3ZvdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKCfEkMOjIHjhuqN5IHJhIGzhu5dpICEgVnVpIGzDsm5nIHRo4butIGzhuqFpIHNhdScpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmNoZWNrUmVwbHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICB0aGlzLmxvYWRkaW5nQ29tbWVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIHRoaXMub25FcnJvcignxJDDoyB44bqjeSByYSBs4buXaSAhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUnKTtcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgdmFyIF90aGF0ID0gdGhpcztcclxuICAgICAgaWYgKGNvbW1lbnQuaXNWb3RlZCkge1xyXG4gICAgICAgIGF4aW9zLnBvc3QoJy9jb21tZW50cy9yZW1vdmUtbGlrZScsIHtjb21tZW50X2lkOiBjb21tZW50X2lkLCBwb3N0X2lkOiBjb25maWcuY29tbWVudGFibGVJZH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAvLyB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzLnNsaWNlKCkucmV2ZXJzZSgpW2luZGV4XS5saWtlcmVwbHlsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgLy8gdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllcy5zbGljZSgpLnJldmVyc2UoKVtpbmRleF0uaXNWb3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIHRoaXMuY2hlY2tSZXBseUNoaWxkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgY29tbWVudC5pc1ZvdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXhDaGlsZCA9IHRoaXMudmlzaWJsZUNvbW1lbnRzQ2hpbGRbaW5kZXhDb21lbnRdLmZpbmRJbmRleChjID0+IGMuaWQgPT09IGNvbW1lbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudmlzaWJsZUNvbW1lbnRzQ2hpbGRbaW5kZXhDb21lbnRdW2luZGV4Q2hpbGRdLCAnaXNWb3RlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy52aXNpYmxlQ29tbWVudHNDaGlsZFtpbmRleENvbWVudF1baW5kZXhDaGlsZF0uaGFzT3duUHJvcGVydHkoJ3ZvdGVkJykpIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudmlzaWJsZUNvbW1lbnRzQ2hpbGRbaW5kZXhDb21lbnRdW2luZGV4Q2hpbGRdLCAndm90ZWQnLCBbXSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZUNvbW1lbnRzQ2hpbGRbaW5kZXhDb21lbnRdW2luZGV4Q2hpbGRdWyd2b3RlZCddLmxlbmd0aCA9IHBhcnNlSW50KHRoaXMudmlzaWJsZUNvbW1lbnRzQ2hpbGRbaW5kZXhDb21lbnRdW2luZGV4Q2hpbGRdWyd2b3RlZCddLmxlbmd0aCkgLSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllcy5zbGljZSgpLnJldmVyc2UoKVtpbmRleF1bJ2lzVm90ZWQnXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllcy5zbGljZSgpLnJldmVyc2UoKVtpbmRleF1bJ3ZvdGVkJ10ubGVuZ3RoID0gcGFyc2VJbnQodGhpcy5jb21tZW50RmlsdGVyc1tpbmRleENvbWVudF0ucmVwbGllcy5zbGljZSgpLnJldmVyc2UoKVtpbmRleF1bJ3ZvdGVkJ10ubGVuZ3RoKSAtIDE7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgZGF0YVJlc3BvbiA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhDb21lbnRdLnJlcGxpZXMuc2xpY2UoKS5yZXZlcnNlKClbaW5kZXhdWyd2b3RlZCddLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHtcclxuICAgICAgICAgICAgICAgIC8vICAgaWYgKHYuaWQgPT0gZGF0YVJlc3Bvbi5pZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIF90aGF0LmNvbW1lbnRGaWx0ZXJzW2luZGV4Q29tZW50XS5yZXBsaWVzLnNsaWNlKCkucmV2ZXJzZSgpW2luZGV4XVsndm90ZWQnXS5zcGxpY2UoaywgMSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgIH1cclxuICAgICAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZGluZ0NvbW1lbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25FcnJvcignxJDDoyB44bqjeSByYSBs4buXaSAhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUnKTtcclxuXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuY2hlY2tSZXBseSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIHRoaXMub25FcnJvcignxJDDoyB44bqjeSByYSBs4buXaSAhIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUnKTtcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmZXRjaCgpIHtcclxuICAgICAgYXhpb3MuZ2V0KCdjb21tZW50cz8nICsgcXVlcnlTdHJpbmcoe1xyXG4gICAgICAgIG9yZGVyOiB0aGlzLm9yZGVyLFxyXG4gICAgICAgIHBhZ2VfaWQ6IGNvbmZpZy5wYWdlSWQsXHJcbiAgICAgICAgY29tbWVudGFibGVfaWQ6IGNvbmZpZy5jb21tZW50YWJsZUlkLFxyXG4gICAgICAgIGNvbW1lbnRhYmxlX3R5cGU6IGNvbmZpZy5jb21tZW50YWJsZVR5cGUsXHJcbiAgICAgIH0pKVxyXG4gICAgICAgIC50aGVuKCh7ZGF0YX0pID0+IHtcclxuICAgICAgICAgIHZhciBfdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICB0aGlzLmxvYWRkaW5nQ29tbWVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhpcy5jb21tZW50cyA9IGRhdGEuY29tbWVudHMucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgdGhpcy5jb21tZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7XHJcbiAgICAgICAgICAgIFZ1ZS5zZXQoX3RoYXQuY29tbWVudHNba10sICdsaWtlbG9hZGluZycsIGZhbHNlKTtcclxuICAgICAgICAgICAgX3RoYXQuY29tbWVudHNba10ucmVwbGllcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICAgICAgVnVlLnNldChfdGhhdC5jb21tZW50c1trXS5yZXBsaWVzW2tleV0sICdsaWtlcmVwbHlsb2FkaW5nJywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB0aGlzLmNoZWNrTGlrZUNvbW1lbnQoKTtcclxuICAgICAgICAgIHRoaXMuY29tbWVudEZpbHRlcnMgPSB0aGlzLmNvbW1lbnRzLnNsaWNlKC1jb25maWcucGVyX3BhZ2UsIHRoaXMuY29tbWVudHMubGVuZ3RoKTtcclxuICAgICAgICAgIHRoaXMuY29tbWVudEZpbHRlcnMuZm9yRWFjaChjb21tZW50ID0+IHtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmxlQ29tbWVudHNbY29tbWVudC5pZF0gPSBjb21tZW50LnJlcGxpZXMuc2xpY2UoMCwgMCk7XHJcbiAgICAgICAgICAgIGNvbW1lbnQucmVwbGllcy5mb3JFYWNoKGNvbW1lbnRDaGlsZCA9PntcclxuICAgICAgICAgICAgICBpZihjb21tZW50Q2hpbGQucmVwbGllc19jaGlsZCAhPSB1bmRlZmluZWQgJiYgY29tbWVudENoaWxkLnJlcGxpZXNfY2hpbGQubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGVDb21tZW50c0NoaWxkW2NvbW1lbnRDaGlsZC5pZF0gPSBjb21tZW50Q2hpbGQucmVwbGllc19jaGlsZC5zbGljZSgwLDApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdGhpcy50b3RhbENvbW1lbnRTaG93ID0gdGhpcy5jb21tZW50RmlsdGVycy5sZW5ndGg7XHJcbiAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIHNob3dSZXBseUNvbW1lbnQoaWQsIGluZGV4KSB7XHJcbiAgICAgIHRoaXMuc2hvd1JlcGx5ID0gIXRoaXMuc2hvd1JlcGx5O1xyXG4gICAgICB0aGlzLmluZGV4Q29tbWVudCA9IGluZGV4O1xyXG4gICAgICB0aGlzLmNvbW1lbnRfaWQgPSBpZDtcclxuICAgICAgJCgnLmNvbW1lbnQtJyArIGlkKS5zaG93KCk7XHJcblxyXG4gICAgICB3aW5kb3cuZW1vamlQaWNrZXIgPSBuZXcgRW1vamlQaWNrZXIoe1xyXG4gICAgICAgIGVtb2ppYWJsZV9zZWxlY3RvcjogJ1tkYXRhLWVtb2ppYWJsZT10cnVlXScsXHJcbiAgICAgICAgYXNzZXRzUGF0aDogJy92ZW5kb3IvY29tbWVudHMvZW1vamktcGlja2VyL2xpYi9pbWcvJyxcclxuICAgICAgICBwb3B1cEJ1dHRvbkNsYXNzZXM6ICdmYWwgZmEtbGF1Z2ggZmEgZmEtc21pbGUtbycsXHJcbiAgICAgICAgcG9wdXBCdXR0b25JbWFnZUNsYXNzZXM6ICdmYSBmYS1pbWFnZScsXHJcbiAgICAgIH0pO1xyXG4gICAgICB3aW5kb3cuZW1vamlQaWNrZXIuZGlzY292ZXIoKTtcclxuXHJcbiAgICAgICQoJy5jb21tZW50LScgKyBpZCkuZmluZCgnLmNvbW1lbnQtY2hpbGQnKS5mb2N1cygpO1xyXG5cclxuICAgIH0sXHJcblxyXG4gICAgc2hvd1JlcGx5Q29tbWVudENoaWxkKGlkLCBpbmRleCwgaW5kZXhDaGlsZCkge1xyXG4gICAgICB0aGlzLnNob3dSZXBseUNoaWxkID0gIXRoaXMuc2hvd1JlcGx5Q2hpbGQ7XHJcbiAgICAgIHRoaXMuaW5kZXhDb21tZW50Q2hpbGQgPSBpbmRleENoaWxkO1xyXG4gICAgICB0aGlzLmluZGV4Q29tbWVudCA9IGluZGV4O1xyXG4gICAgICB0aGlzLmNvbW1lbnRfaWQgPSBpZDtcclxuICAgICAgJCgnLmNvbW1lbnQtY2hpbGQtJyArIGlkKS5zaG93KCk7XHJcblxyXG4gICAgICB3aW5kb3cuZW1vamlQaWNrZXIgPSBuZXcgRW1vamlQaWNrZXIoe1xyXG4gICAgICAgIGVtb2ppYWJsZV9zZWxlY3RvcjogJ1tkYXRhLWVtb2ppYWJsZT10cnVlXScsXHJcbiAgICAgICAgYXNzZXRzUGF0aDogJy92ZW5kb3IvY29tbWVudHMvZW1vamktcGlja2VyL2xpYi9pbWcvJyxcclxuICAgICAgICBwb3B1cEJ1dHRvbkNsYXNzZXM6ICdmYWwgZmEtbGF1Z2ggZmEgZmEtc21pbGUtbycsXHJcbiAgICAgICAgcG9wdXBCdXR0b25JbWFnZUNsYXNzZXM6ICdmYSBmYS1pbWFnZScsXHJcbiAgICAgIH0pO1xyXG4gICAgICB3aW5kb3cuZW1vamlQaWNrZXIuZGlzY292ZXIoKTtcclxuXHJcbiAgICAgICQoJy5jb21tZW50LWNoaWxkLScgKyBpZCkuZmluZCgnLmNvbW1lbnQtY2hpbGQnKS5mb2N1cygpO1xyXG5cclxuICAgIH0sXHJcblxyXG4gICAgYmluZENsYXNzQ29tbWVudChpZCkge1xyXG4gICAgICByZXR1cm4gJ2NvbW1lbnQtJyArIGlkO1xyXG4gICAgfSxcclxuICAgIGJpbmRDbGFzc0NvbW1lbnRDaGlsZChpZCkge1xyXG4gICAgICByZXR1cm4gJ2NvbW1lbnQtY2hpbGQtJyArIGlkO1xyXG4gICAgfSxcclxuICAgIHNhdmVDb21tZW50KCkge1xyXG4gICAgICB0aGlzLmxvYWRkaW5nQ29tbWVudCA9IHRydWU7XHJcbiAgICAgIGlmICh0aGlzLmVtb2ppKSB7XHJcbiAgICAgICAgdmFyIHN0cl9jb21tZW50ID0gJCgnLmNvbW1lbnQtYXJlYSAuZW1vamktd3lzaXd5Zy1lZGl0b3InKS5odG1sKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIHN0cl9jb21tZW50ID0gdGhpcy5jb21tZW50LmNvbnRlbnRcclxuICAgICAgfVxyXG5cclxuICAgICAgLy9D4bqvdCBrw70gdOG7sVxyXG4gICAgICBzdHJfY29tbWVudCA9IHN0cl9jb21tZW50LnJlcGxhY2UoLyZuYnNwOy9nLCAnJyk7XHJcbiAgICAgIC8vIHN0cl9jb21tZW50ID0gc3RyX2NvbW1lbnQucmVwbGFjZSgvPGJyPi9nLCAnJyk7XHJcblxyXG4gICAgICAvL1jhu60gbMO9IHVwbG9hZCDhuqNuaCBu4bq/dSBjw7MgdsOgIMSRxrBhIHbDoG8gbuG7mWkgZHVuZyBjb21tZW50XHJcbiAgICAgIHZhciBpbWFnZSA9ICQoJy5jb21tZW50LWFyZWEnKS5maW5kKCcuZmlsZS11cGxvYWQnKTtcclxuICAgICAgaWYgKGltYWdlLnZhbCgpKSB7XHJcbiAgICAgICAgdGhpcy5hZGRGaWxlKCcuY29tbWVudC1hcmVhJywgJ2NvbW1lbnQnLCAtMSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmFkZENvbW1lbnQoc3RyX2NvbW1lbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSxcclxuICAgIGVzY2FwZUh0bWwodW5zYWZlKSB7XHJcbiAgICAgIHJldHVybiB1bnNhZmVcclxuICAgICAgICAucmVwbGFjZSgvJi9nLCBcIiZhbXA7XCIpXHJcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpXHJcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgXCImZ3Q7XCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csIFwiJnF1b3Q7XCIpXHJcbiAgICAgICAgLnJlcGxhY2UoLycvZywgXCImIzAzOTtcIik7XHJcbiAgICB9LFxyXG4gICAgYWRkQ29tbWVudChzdHJfY29tbWVudCkge1xyXG4gICAgICAvLyBzdHJfY29tbWVudCA9IHRoaXMuZXNjYXBlSHRtbChzdHJfY29tbWVudCk7XHJcbiAgICAgIC8vIHN0cl9jb21tZW50ID0gc3RyX2NvbW1lbnQucmVwbGFjZSgvPGRpdj48YnI+PFxcL2Rpdj4vZywgXCJcIik7XHJcbiAgICAgIHN0cl9jb21tZW50ID0gc3RyX2NvbW1lbnQucmVwbGFjZSgvXFxuL2csIFwiPGJyPlwiKTtcclxuXHJcbiAgICAgIC8vIHN0cl9jb21tZW50ID0gc3RyX2NvbW1lbnQucmVwbGFjZSgvPGRpdj48YnI+PFxcL2Rpdj4vZywgXCJcIikucmVwbGFjZSgvPGJyPi9nLFwiXCIpO1xyXG4gICAgICBzdHJfY29tbWVudCA9IHN0cl9jb21tZW50O1xyXG4gICAgICBpZiAoc3RyX2NvbW1lbnQudHJpbSgpID09ICcnKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkZGluZ0NvbW1lbnQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9uRXJyb3IoJ0tow7RuZyDEkcaw4bujYyDEkeG7gyB0cuG7kW5nIG7hu5lpIGR1bmcgYsOsbmggbHXhuq1uLicpO1xyXG4gICAgICAgICQoJy5jb21tZW50LXBhcmVudCAuYm94LWNvbW1lbnQnKS5mb2N1cygpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmNvbW1lbnQuY29udGVudCA9IHN0cl9jb21tZW50O1xyXG4gICAgICB0aGlzLmNvbW1lbnQucG9zdCgnL2NvbW1lbnRzJylcclxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgIHRoaXMubG9hZGRpbmdDb21tZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLm9uU3VjY2VzcyhyZXNwb25zZSk7XHJcbiAgICAgICAgICB0eXBlb2Ygd2luZG93LnBhcmVudC5pbmNyZWFzZUxpa2VQb3N0ID09PSAnZnVuY3Rpb24nICYmIHdpbmRvdy5wYXJlbnQuaW5jcmVhc2VMaWtlUG9zdCh0aGlzLmNvbW1lbnQucGFnZV9pZCwgdGhpcy5jb21tZW50LnBhZ2VfaWQpO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW50ZXJ2YWxFbW9qaVBhcmVudCgpO1xyXG4gICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmxvYWRkaW5nQ29tbWVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHZhciBlcnJvcnMgPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9ycztcclxuICAgICAgICAgICAgaWYgKGVycm9ycy5jb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKGVycm9ycy5jb250ZW50WzBdKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMub25FcnJvcihlcnJvcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgYWRkRmlsZShhcmdzLCB0eXBlLCBpbmRleCwgaW5kZXhDaGlsZCkge1xyXG4gICAgICB2YXIgcHJldmlldyA9ICQoYXJncykuZmluZCgnLnByZXZpZXdfaW1hZ2UnKTtcclxuXHJcbiAgICAgIHZhciBpbWFnZSA9ICQoYXJncykuZmluZCgnLmZpbGUtdXBsb2FkJyk7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICBmZC5hcHBlbmQoXCJmaWxlXCIsIGltYWdlWzBdLmZpbGVzWzBdKTtcclxuICAgICAgYXhpb3Moe1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIHVybDogJy9jb21tZW50cy91cGxvYWQtaW1hZ2UnLFxyXG4gICAgICAgIGRhdGE6IGZkLFxyXG4gICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbWcgPSAnPGEgZGF0YS13aWR0aD1cIjIwNDhcIiBkYXRhLWhlaWdodD1cIjEzNjVcIiBkYXRhLWZhbmN5Ym94PVwiaW1hZ2VzXCIgY2xhc3M9XCJmYW5jeWJveFwiIGhyZWY9XCIvJyArIHJlc3BvbnNlLmRhdGEuaW1hZ2UgKyAnXCI+PGltZyBzdHlsZT1cIndpZHRoOiAyNTBweCAhaW1wb3J0YW50O1wiIGNsYXNzPVwiY29tbWVudC1pbWdcIiBzcmM9XCIvJyArIHJlc3BvbnNlLmRhdGEuaW1hZ2UgKyAnXCIvPjwvYT4nO1xyXG4gICAgICAgICAgICB2YXIgc3RyX2NvbW1lbnQgPSAkKGFyZ3MgKyAnIC5lbW9qaS13eXNpd3lnLWVkaXRvcicpLmh0bWwoKTtcclxuICAgICAgICAgICAgLy9D4bqvdCBrw70gdOG7sVxyXG4gICAgICAgICAgICBzdHJfY29tbWVudCA9IHN0cl9jb21tZW50LnJlcGxhY2UoLyZuYnNwOy9nLCAnJyk7XHJcbiAgICAgICAgICAgIC8vIHN0cl9jb21tZW50ID0gc3RyX2NvbW1lbnQucmVwbGFjZSgvPGJyPi9nLCAnJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RyX2NvbW1lbnQpIHtcclxuICAgICAgICAgICAgICAvL0Phu5luZyB0aMOqbSB0aOG6uyBCclxyXG4gICAgICAgICAgICAgIGltZyA9IFwiPGJyPlwiICsgaW1nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vJCgnLmNvbW1lbnQtYXJlYSAuZW1vamktd3lzaXd5Zy1lZGl0b3InKS5odG1sKHN0cl9jb21tZW50ICsgaW1nKTtcclxuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJjb21tZW50XCIpIHtcclxuICAgICAgICAgICAgICB0aGlzLmFkZENvbW1lbnQoc3RyX2NvbW1lbnQgKyBpbWcpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcInJlcGx5Q2hpbGRcIikge1xyXG4gICAgICAgICAgICAgIHRoaXMuYWRkUmVwbHlDaGlsZChzdHJfY29tbWVudCArIGltZywgaW5kZXgsIGluZGV4Q2hpbGQsIGFyZ3MpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5hZGRSZXBseShzdHJfY29tbWVudCArIGltZywgaW5kZXgsIGFyZ3MpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW1hZ2UudmFsKCcnKTtcclxuICAgICAgICAgICAgcHJldmlldy5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG5cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBpbWFnZS52YWwoJycpO1xyXG4gICAgICAgICAgICBwcmV2aWV3LmNzcygnZGlzcGxheScsICdub25lJyk7XHJcblxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gc3RyX2NvbW1lbnQgPSBzdHJfY29tbWVudCArIGltZ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgIHRoaXMubG9hZGRpbmdDb21tZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLm9uRXJyb3IoJ0fhurdwIGzhu5dpIGtoaSB1cGxvYWQgZmlsZSB5w6p1IGPhuqd1IGtp4buDbSB0cmEgbOG6oWkuJyk7XHJcbiAgICAgICAgICBpbWFnZS52YWwoJycpO1xyXG4gICAgICAgICAgcHJldmlldy5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG5cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIG9uU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICBsZXQgZGF0YVJlc3BvbiA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgIHZhciBfdGhhdCA9IHRoaXM7XHJcbiAgICAgIGxldCBkYXRhID0ge1xyXG4gICAgICAgIGF1dGhvcl9hdmF0YXI6ICdodHRwczovL3ZvcHMudmlldHRlbC52bi9hdmF0YXIvJytkYXRhUmVzcG9uLmF1dGhvcl9lbWFpbC5zcGxpdCgnQCcpWzBdLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgYXV0aG9yX25hbWU6IGRhdGFSZXNwb24uYXV0aG9yX25hbWUsXHJcbiAgICAgICAgYXV0aG9yX3VybDogZGF0YVJlc3Bvbi5hdXRob3JfdXJsLFxyXG4gICAgICAgIGNhbl9kZWxldGU6IGRhdGFSZXNwb24uY2FuX2RlbGV0ZSxcclxuICAgICAgICBjYW5fdXBkYXRlOiBkYXRhUmVzcG9uLmNhbl91cGRhdGUsXHJcbiAgICAgICAgY29tbWVudGFibGVfaWQ6IGRhdGFSZXNwb24uY29tbWVudGFibGVfaWQsXHJcbiAgICAgICAgY29tbWVudGFibGVfdHlwZTogZGF0YVJlc3Bvbi5jb21tZW50YWJsZV90eXBlLFxyXG4gICAgICAgIGNvbnRlbnQ6IGRhdGFSZXNwb24uY29udGVudCxcclxuICAgICAgICBjcmVhdGVkX2F0OiBkYXRhUmVzcG9uLmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgZWRpdF91cmw6IGRhdGFSZXNwb24uZWRpdF91cmwsXHJcbiAgICAgICAgaWQ6IGRhdGFSZXNwb24uaWQsXHJcbiAgICAgICAgcGFnZV9pZDogZGF0YVJlc3Bvbi5wYWdlX2lkLFxyXG4gICAgICAgIHBlcm1hbGluazogZGF0YVJlc3Bvbi5wZXJtYWxpbmssXHJcbiAgICAgICAgcmVwbGllczogZGF0YVJlc3Bvbi5yZXBsaWVzLFxyXG4gICAgICAgIHN0YXR1czogXCJhcHByb3ZlZFwiLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IGRhdGFSZXNwb24udXBkYXRlZF9hdCxcclxuICAgICAgICB1cmw6IGRhdGFSZXNwb24udXJsLFxyXG4gICAgICAgIHVzZXJfaWQ6IGRhdGFSZXNwb24udXNlcl9pZCxcclxuICAgICAgICBpc1ZvdGVkOiBmYWxzZSxcclxuICAgICAgICB2b3RlZDogW10sXHJcbiAgICAgICAgdG90YWxSZWxweTogMCxcclxuICAgICAgICBsaWtlbG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgbWVtYmVyOiBkYXRhUmVzcG9uLm1lbWJlcixcclxuICAgICAgICBwcml2YXRlX2V2ZW50X2lkOiBkYXRhUmVzcG9uLnByaXZhdGVfZXZlbnRfaWQsXHJcbiAgICAgICAgaXNfc3luY19jb21tZW50OiBkYXRhUmVzcG9uLmlzX3N5bmNfY29tbWVudFxyXG4gICAgICB9O1xyXG4gICAgICBsZXQgZmlsdGVyRXhpc3QgPSB0aGlzLmNvbW1lbnRzLmZpbHRlcihlID0+IGUuaWQgPT0gZGF0YVJlc3Bvbi5pZCkubGVuZ3RoO1xyXG4gICAgICBpZiAoIWZpbHRlckV4aXN0KSB7XHJcbiAgICAgICAgdGhpcy5jb21tZW50cy5wdXNoKGRhdGEpO1xyXG4gICAgICAgIHRoaXMuY29tbWVudEZpbHRlcnMgPSB0aGlzLmNvbW1lbnRzO1xyXG4gICAgICAgIHRoaXMudG90YWxDb21tZW50U2hvdyA9IHRoaXMuY29tbWVudEZpbHRlcnMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuJHNldCh0aGlzLnZpc2libGVDb21tZW50cywgZGF0YS5pZCwgW10pO1xyXG4gICAgICAgIC8vdGhpcy50b3RhbENvbW1lbnQgPSB0aGlzLmNvbW1lbnRzLmxlbmd0aDtcclxuICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmVtb2ppKSB7XHJcbiAgICAgICAgICAkKCcuYm94LWNvbW1lbnQnKS50ZXh0KCcnKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmNvbW1lbnQuY29udGVudCA9ICcnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoeyBhY3Rpb246IFwibmV3Q29tbWVudFwiLCBjb21tZW50OiBkYXRhIH0sIFwiKlwiKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9uRXJyb3IoZXJyb3IpIHtcclxuICAgICAgdG9hc3RyLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgXCJjbG9zZUJ1dHRvblwiOiB0cnVlLFxyXG4gICAgICAgIFwiZGVidWdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJuZXdlc3RPblRvcFwiOiBmYWxzZSxcclxuICAgICAgICBcInByb2dyZXNzQmFyXCI6IHRydWUsXHJcbiAgICAgICAgXCJwb3NpdGlvbkNsYXNzXCI6IFwidG9hc3QtYm90dG9tLXJpZ2h0XCIsXHJcbiAgICAgICAgXCJwcmV2ZW50RHVwbGljYXRlc1wiOiBmYWxzZSxcclxuICAgICAgICBcIm9uY2xpY2tcIjogbnVsbCxcclxuICAgICAgICBcInNob3dEdXJhdGlvblwiOiBcIjMwMFwiLFxyXG4gICAgICAgIFwiaGlkZUR1cmF0aW9uXCI6IFwiMTAwMFwiLFxyXG4gICAgICAgIFwiZXh0ZW5kZWRUaW1lT3V0XCI6IFwiNjAwMFwiLFxyXG4gICAgICAgIFwic2hvd0Vhc2luZ1wiOiBcInN3aW5nXCIsXHJcbiAgICAgICAgXCJoaWRlRWFzaW5nXCI6IFwibGluZWFyXCIsXHJcbiAgICAgICAgXCJzaG93TWV0aG9kXCI6IFwiZmFkZUluXCIsXHJcbiAgICAgICAgXCJoaWRlTWV0aG9kXCI6IFwiZmFkZU91dFwiXHJcbiAgICAgIH07XHJcbiAgICAgIHRvYXN0ci5lcnJvcihlcnJvciwgJ0zhu5dpJywge3RpbWVPdXQ6IDIwMDB9KVxyXG4gICAgfSxcclxuICAgIHNob3dTdWNjZXNzKHN1Y2Nlc3MpIHtcclxuICAgICAgdG9hc3RyLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgXCJjbG9zZUJ1dHRvblwiOiB0cnVlLFxyXG4gICAgICAgIFwiZGVidWdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJuZXdlc3RPblRvcFwiOiBmYWxzZSxcclxuICAgICAgICBcInByb2dyZXNzQmFyXCI6IHRydWUsXHJcbiAgICAgICAgXCJwb3NpdGlvbkNsYXNzXCI6IFwidG9hc3QtYm90dG9tLXJpZ2h0XCIsXHJcbiAgICAgICAgXCJwcmV2ZW50RHVwbGljYXRlc1wiOiBmYWxzZSxcclxuICAgICAgICBcIm9uY2xpY2tcIjogbnVsbCxcclxuICAgICAgICBcInNob3dEdXJhdGlvblwiOiBcIjMwMFwiLFxyXG4gICAgICAgIFwiaGlkZUR1cmF0aW9uXCI6IFwiMTAwMFwiLFxyXG4gICAgICAgIFwiZXh0ZW5kZWRUaW1lT3V0XCI6IFwiNjAwMFwiLFxyXG4gICAgICAgIFwic2hvd0Vhc2luZ1wiOiBcInN3aW5nXCIsXHJcbiAgICAgICAgXCJoaWRlRWFzaW5nXCI6IFwibGluZWFyXCIsXHJcbiAgICAgICAgXCJzaG93TWV0aG9kXCI6IFwiZmFkZUluXCIsXHJcbiAgICAgICAgXCJoaWRlTWV0aG9kXCI6IFwiZmFkZU91dFwiXHJcbiAgICAgIH07XHJcbiAgICAgIHRvYXN0ci5zdWNjZXNzKHN1Y2Nlc3MsICdUaMOgbmggY8O0bmcnLCB7dGltZU91dDogMjAwMH0pXHJcbiAgICB9LFxyXG4gICAgbG9hZE1vcmUoKSB7XHJcbiAgICAgIC8vIHRoaXMubG9hZGRpbmdDb21tZW50ID0gdHJ1ZTtcclxuICAgICAgdGhpcy5sb2FkbW9yZXdhdGNoID0gdHJ1ZTtcclxuICAgICAgbGV0IF90aGF0ID0gdGhpcztcclxuICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlICsgMVxyXG4gICAgICB2YXIgcGFnZSA9IHRoaXMucGFnZTtcclxuICAgICAgdGhpcy5sb2FkQ29tbWVudChwYWdlKTtcclxuICAgIH0sXHJcbiAgICBzdW0oYSwgYikge1xyXG4gICAgICB2YXIgbnVtYmVyT25lID0gcGFyc2VJbnQoYSk7XHJcbiAgICAgIHZhciBudW1iZXJUd28gPSBwYXJzZUludChiKTtcclxuICAgICAgcmV0dXJuIChudW1iZXJPbmUgKyBudW1iZXJUd28pO1xyXG4gICAgfSxcclxuICAgIGZvY3VzQ29tbWVudCgpIHtcclxuICAgICAgJCgnLmVtb2ppLXd5c2l3eWctZWRpdG9yJykuZm9jdXMoKTtcclxuICAgIH0sXHJcbiAgICBsaWtlUG9zdCgpIHtcclxuICAgICAgdmFyIF90aGF0ID0gdGhpcztcclxuICAgICAgLy8gdGhpcy5sb2FkZGluZ0NvbW1lbnQgPSB0cnVlO1xyXG4gICAgICB0aGlzLmxpa2UgPSB0cnVlO1xyXG4gICAgICBpZiAodGhpcy5jaGVja0xpa2VQb3N0ID09IGZhbHNlKSB7XHJcbiAgICAgICAgYXhpb3MucG9zdCgnL2xpa2UtcG9zdCcsIHtcclxuICAgICAgICAgIHBvc3RfaWQ6IGNvbmZpZy5jb21tZW50YWJsZUlkLFxyXG4gICAgICAgICAgY29tbWVudGFibGVfdHlwZTogY29uZmlnLmNvbW1lbnRhYmxlVHlwZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAvL3RoaXMub25FcnJvcignxJDDoyB44bqjeSByYSBs4buXaS4gVnVpIGzDsm5nIHRo4butIGzhuqFpJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGRpbmdDb21tZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMubGlrZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gMSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuY2hlY2tMaWtlUG9zdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgLy8gdmFyIGRhdGFSZXNwb24gPSByZXNwb25zZS5kYXRhLmxpa2U7XHJcbiAgICAgICAgICAgICAgLy8gdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgLy8gICAnaWQnOiBkYXRhUmVzcG9uLmlkLFxyXG4gICAgICAgICAgICAgIC8vICAgJ2xpa2VhYmxlX2lkJzogZGF0YVJlc3Bvbi5wb3N0X2lkLFxyXG4gICAgICAgICAgICAgIC8vICAgJ2xpa2VhYmxlX3R5cGUnOiBkYXRhUmVzcG9uLmxpa2VhYmxlX3R5cGUsXHJcbiAgICAgICAgICAgICAgLy8gICAndXBkYXRlZF9hdCc6IGRhdGFSZXNwb24udXBkYXRlZF9hdCxcclxuICAgICAgICAgICAgICAvLyAgICd1c2VyX2lkJzogZGF0YVJlc3Bvbi51c2VyX2lkLFxyXG4gICAgICAgICAgICAgIC8vICAgJ2NyZWF0ZWRfYXQnOiBkYXRhUmVzcG9uLmNyZWF0ZWRfYXRcclxuICAgICAgICAgICAgICAvLyB9O1xyXG4gICAgICAgICAgICAgIC8vIHRoaXMucG9zdExpa2UucHVzaChkYXRhKTtcclxuICAgICAgICAgICAgICAvLyB0aGlzLmNvdW50TGlrZVBvc3QgPSB0aGlzLnBvc3RMaWtlLmxlbmd0aDtcclxuICAgICAgICAgICAgICAvLyB0aGlzLnNob3dTdWNjZXNzKCdC4bqhbiDEkcOjIHRow61jaCBiw6BpIHZp4bq/dCB0aMOgbmggY8O0bmcnKTtcclxuICAgICAgICAgICAgICAvLyB0eXBlb2Ygd2luZG93LnBhcmVudC5pbmNyZWFzZUxpa2VQb3N0ID09PSAnZnVuY3Rpb24nICYmIHdpbmRvdy5wYXJlbnQuaW5jcmVhc2VMaWtlUG9zdCh0aGlzLmNvbW1lbnQucGFnZV9pZCwgMSk7XHJcbiAgICAgICAgICAgICAgLy8gdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXhpb3MucG9zdCgncmVtb3ZlLWxpa2UtcG9zdCcsIHtcclxuICAgICAgICAgIHBvc3RfaWQ6IGNvbmZpZy5jb21tZW50YWJsZUlkLFxyXG4gICAgICAgICAgY29tbWVudGFibGVfdHlwZTogY29uZmlnLmNvbW1lbnRhYmxlVHlwZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAvL3RoaXMub25FcnJvcignxJDDoyB44bqjeSByYSBs4buXaS4gVnVpIGzDsm5nIHRo4butIGzhuqFpJylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGRpbmdDb21tZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMubGlrZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jaGVja0xpa2VQb3N0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgLy8gdGhpcy5jb3VudExpa2VQb3N0ID0gcGFyc2VJbnQodGhpcy5jb3VudExpa2VQb3N0KSAtIDE7XHJcbiAgICAgICAgICAgICAgLy8gdGhpcy5zaG93U3VjY2VzcygnQuG6oW4gxJHDoyBi4buPIHRow61jaCBiw6BpIHZp4bq/dCB0aMOgbmggY8O0bmcnKTtcclxuICAgICAgICAgICAgICAvLyB0eXBlb2Ygd2luZG93LnBhcmVudC5pbmNyZWFzZUxpa2VQb3N0ID09PSAnZnVuY3Rpb24nICYmIHdpbmRvdy5wYXJlbnQuaW5jcmVhc2VMaWtlUG9zdCh0aGlzLmNvbW1lbnQucGFnZV9pZCwgMik7XHJcbiAgICAgICAgICAgICAgLy8gdGhpcy5wb3N0TGlrZS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7XHJcbiAgICAgICAgICAgICAgLy8gICBpZiAodi51c2VyX2lkID09IGNvbmZpZy5kYXRhLnVzZXIuaWQpIHtcclxuICAgICAgICAgICAgICAvLyAgICAgX3RoYXQucG9zdExpa2Uuc3BsaWNlKGssIDEpO1xyXG4gICAgICAgICAgICAgIC8vICAgfVxyXG4gICAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAgIC8vIHRoaXMuJGZvcmNlVXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgb25MaWtlUG9zdFB1c2hlcihyZXNwb25zZSkge1xyXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDEpIHtcclxuICAgICAgICB0aGlzLmNoZWNrTGlrZVBvc3QgPSB0cnVlO1xyXG4gICAgICAgIHZhciBkYXRhUmVzcG9uID0gcmVzcG9uc2UubGlrZTtcclxuICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICdpZCc6IGRhdGFSZXNwb24uaWQsXHJcbiAgICAgICAgICAnbGlrZWFibGVfaWQnOiBkYXRhUmVzcG9uLnBvc3RfaWQsXHJcbiAgICAgICAgICAnbGlrZWFibGVfdHlwZSc6IGRhdGFSZXNwb24ubGlrZWFibGVfdHlwZSxcclxuICAgICAgICAgICd1cGRhdGVkX2F0JzogZGF0YVJlc3Bvbi51cGRhdGVkX2F0LFxyXG4gICAgICAgICAgJ3VzZXJfaWQnOiBkYXRhUmVzcG9uLnVzZXJfaWQsXHJcbiAgICAgICAgICAnY3JlYXRlZF9hdCc6IGRhdGFSZXNwb24uY3JlYXRlZF9hdFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wb3N0TGlrZS5wdXNoKGRhdGEpO1xyXG4gICAgICAgIHRoaXMuY291bnRMaWtlUG9zdCA9IHRoaXMucG9zdExpa2UubGVuZ3RoO1xyXG4gICAgICAgIC8vdGhpcy5zaG93U3VjY2VzcygnQuG6oW4gxJHDoyB0aMOtY2ggYsOgaSB2aeG6v3QgdGjDoG5oIGPDtG5nJyk7XHJcbiAgICAgICAgdHlwZW9mIHdpbmRvdy5wYXJlbnQuaW5jcmVhc2VMaWtlUG9zdCA9PT0gJ2Z1bmN0aW9uJyAmJiB3aW5kb3cucGFyZW50LmluY3JlYXNlTGlrZVBvc3QodGhpcy5jb21tZW50LnBhZ2VfaWQsIDEpO1xyXG4gICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgb25Vbkxpa2VQb3N0UHVzaGVyKHJlc3BvbnNlKSB7XHJcbiAgICAgIHZhciBfdGhhdCA9IHRoaXM7XHJcbiAgICAgIHRoaXMuY2hlY2tMaWtlUG9zdCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmNvdW50TGlrZVBvc3QgPSBwYXJzZUludCh0aGlzLmNvdW50TGlrZVBvc3QpIC0gMTtcclxuICAgICAgLy90aGlzLnNob3dTdWNjZXNzKCdC4bqhbiDEkcOjIGLhu48gdGjDrWNoIGLDoGkgdmnhur90IHRow6BuaCBjw7RuZycpO1xyXG4gICAgICB0eXBlb2Ygd2luZG93LnBhcmVudC5pbmNyZWFzZUxpa2VQb3N0ID09PSAnZnVuY3Rpb24nICYmIHdpbmRvdy5wYXJlbnQuaW5jcmVhc2VMaWtlUG9zdCh0aGlzLmNvbW1lbnQucGFnZV9pZCwgMik7XHJcbiAgICAgIHRoaXMucG9zdExpa2UuZm9yRWFjaChmdW5jdGlvbiAodiwgaykge1xyXG4gICAgICAgIGlmICh2LnVzZXJfaWQgPT0gY29uZmlnLmRhdGEudXNlci5pZCkge1xyXG4gICAgICAgICAgX3RoYXQucG9zdExpa2Uuc3BsaWNlKGssIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlcGx5Q29tbWVudChjb21tZW50KSB7XHJcbiAgICAgIHRoaXMubG9hZGRpbmdDb21tZW50ID0gdHJ1ZTtcclxuICAgICAgdGhpcy5jb21tZW50X2lkID0gY29tbWVudC5pZDtcclxuXHJcbiAgICAgIGlmICh0aGlzLmVtb2ppKSB7XHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSAkKCcuY29tbWVudC0nICsgY29tbWVudC5pZCkuZmluZCgnZGl2LmNvbW1lbnQtY2hpbGQnKS5odG1sKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLmNvbW1lbnQuY29udGVudFxyXG4gICAgICB9XHJcblxyXG4gICAgICAvL0Phuq90IGvDvSB04buxXHJcbiAgICAgIC8vY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvIC9nLCAnJyk7XHJcbiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLyZuYnNwOy9nLCAnJyk7XHJcbiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLzxicj4vZywgJycpO1xyXG5cclxuICAgICAgdmFyIGltYWdlID0gJCgnLmNvbW1lbnQtJyArIGNvbW1lbnQuaWQpLmZpbmQoJy5maWxlLXVwbG9hZCcpO1xyXG4gICAgICBpZiAoaW1hZ2UudmFsKCkpIHtcclxuICAgICAgICB0aGlzLmFkZEZpbGUoJy5jb21tZW50LScgKyBjb21tZW50LmlkLCAncmVwbHknLCB0aGlzLmluZGV4Q29tbWVudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5hZGRSZXBseShjb250ZW50LCB0aGlzLmluZGV4Q29tbWVudCwgJy5jb21tZW50LScgKyBjb21tZW50LmlkKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlcGx5Q29tbWVudENoaWxkKGNvbW1lbnQpIHtcclxuICAgICAgdGhpcy5sb2FkZGluZ0NvbW1lbnQgPSB0cnVlO1xyXG4gICAgICB0aGlzLmNvbW1lbnRfaWQgPSBjb21tZW50LmlkO1xyXG5cclxuICAgICAgaWYgKHRoaXMuZW1vamkpIHtcclxuICAgICAgICB2YXIgY29udGVudCA9ICQoJy5jb21tZW50LWNoaWxkLScgKyBjb21tZW50LmlkKS5maW5kKCdkaXYuY29tbWVudC1jaGlsZCcpLmh0bWwoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuY29tbWVudC5jb250ZW50XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vQ+G6r3Qga8O9IHThu7FcclxuICAgICAgLy9jb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8gL2csICcnKTtcclxuICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvJm5ic3A7L2csICcnKTtcclxuICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPGJyPi9nLCAnJyk7XHJcblxyXG4gICAgICB2YXIgaW1hZ2UgPSAkKCcuY29tbWVudC1jaGlsZC0nICsgY29tbWVudC5pZCkuZmluZCgnLmZpbGUtdXBsb2FkJyk7XHJcbiAgICAgIGlmIChpbWFnZS52YWwoKSkge1xyXG4gICAgICAgIHRoaXMuYWRkRmlsZSgnLmNvbW1lbnQtY2hpbGQtJyArIGNvbW1lbnQuaWQsICdyZXBseUNoaWxkJywgdGhpcy5pbmRleENvbW1lbnQsIHRoaXMuaW5kZXhDb21tZW50Q2hpbGQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYWRkUmVwbHlDaGlsZChjb250ZW50LCB0aGlzLmluZGV4Q29tbWVudCwgdGhpcy5pbmRleENvbW1lbnRDaGlsZCwgJy5jb21tZW50LWNoaWxkLScgKyBjb21tZW50LmlkKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFkZFJlcGx5KGNvbnRlbnQsIGluZGV4LCBpZCkge1xyXG4gICAgICBpZiAoY29udGVudC50cmltKCkgPT0gJycpIHtcclxuICAgICAgICB0aGlzLmxvYWRkaW5nQ29tbWVudCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMub25FcnJvcignS2jDtG5nIMSRxrDhu6NjIMSR4buDIHRy4buRbmcgbuG7mWkgZHVuZyBiw6xuaCBsdeG6rW4uJyk7XHJcbiAgICAgICAgJCgnLmNvbW1lbnQtcmVwbHkgLmNvbnRlbnQtY29tbWVudDEgLmJveC1jb21tZW50JykuZm9jdXMoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgLy8gY29udGVudCA9IHRoaXMuZXNjYXBlSHRtbChjb250ZW50KTtcclxuICAgICAgYXhpb3MucG9zdCgnL2NvbW1lbnRzJywge1xyXG4gICAgICAgICdjb21tZW50YWJsZV9pZCc6IGNvbmZpZy5jb21tZW50YWJsZUlkLFxyXG4gICAgICAgICdjb21tZW50YWJsZV90eXBlJzogY29uZmlnLmNvbW1lbnRhYmxlVHlwZSxcclxuICAgICAgICAncGFnZV9pZCc6IGNvbmZpZy5wYWdlSWQsXHJcbiAgICAgICAgJ3VzZXJfaWQnOiB0aGlzLmNvbW1lbnQudXNlcl9pZCxcclxuICAgICAgICAnYXV0aG9yX25hbWUnOiB0aGlzLmNvbW1lbnQuYXV0aG9yX25hbWUsXHJcbiAgICAgICAgJ2F1dGhvcl9lbWFpbCc6IHRoaXMuY29tbWVudC5hdXRob3JfZW1haWwsXHJcbiAgICAgICAgJ2F1dGhvcl91cmwnOiAnJyxcclxuICAgICAgICAnY29udGVudCc6IGNvbnRlbnQsXHJcbiAgICAgICAgJ3Blcm1hbGluayc6IGNvbmZpZy5wZXJtYWxpbmssXHJcbiAgICAgICAgJ3Jvb3RfaWQnOiB0aGlzLmNvbW1lbnRfaWQsXHJcbiAgICAgICAgJ3BhcmVudF9pZCc6IHRoaXMuY29tbWVudF9pZCxcclxuICAgICAgICAncmVwbHknOiB0cnVlLFxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgIHRoaXMubG9hZGRpbmdDb21tZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICB2YXIgZGF0YVJlc3BvbiA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICB2YXIgZGF0YVJlcGx5ID0gdGhpcy5kYXRhQ29tbWVudChkYXRhUmVzcG9uKTtcclxuICAgICAgICAgIGxldCBjdXJyZW50TGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgICBpZiAodGhpcy52aXNpYmxlQ29tbWVudHNbdGhpcy5jb21tZW50X2lkXSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY3VycmVudExlbmd0aCA9IHRoaXMudmlzaWJsZUNvbW1lbnRzW3RoaXMuY29tbWVudF9pZF0ubGVuZ3RoO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IG5ld0xlbmd0aFJlcGxpZXMgPSBjdXJyZW50TGVuZ3RoICsgMTtcclxuXHJcbiAgICAgICAgICBsZXQgZmlsdGVyRXhpc3QgPSB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4XS5yZXBsaWVzLmZpbHRlcihlID0+IGUuaWQgPT0gZGF0YVJlcGx5LmlkKS5sZW5ndGg7XHJcbiAgICAgICAgICBpZiAoIWZpbHRlckV4aXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhdLnJlcGxpZXMudW5zaGlmdChkYXRhUmVwbHkpO1xyXG4gICAgICAgICAgICB0aGlzLiRzZXQodGhpcy52aXNpYmxlQ29tbWVudHMsIHRoaXMuY29tbWVudF9pZCwgdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleF0ucmVwbGllcy5zbGljZSgwLCBuZXdMZW5ndGhSZXBsaWVzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbWVudHNbaW5kZXhdLnRvdGFsUmVscHkgPSB0aGlzLmNvbW1lbnRzW2luZGV4XS5yZXBsaWVzLmxlbmd0aDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICQoaWQpLmZpbmQoJy5jb21tZW50LWNoaWxkJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAkKGlkKS5oaWRlKCk7XHJcbiAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW50ZXJ2YWxFbW9qaVBhcmVudCgpO1xyXG4gICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgdGhpcy5sb2FkZGluZ0NvbW1lbnQgPSBmYWxzZTtcclxuICAgICAgICAgIHZhciBlcnJvcnMgPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9ycztcclxuICAgICAgICAgIGlmIChlcnJvcnMuY29udGVudCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoZXJyb3JzLmNvbnRlbnRbMF0pXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoZXJyb3IpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBhZGRSZXBseUNoaWxkKGNvbnRlbnQsIGluZGV4LCBpbmRleENoaWxkLCBpZCkge1xyXG4gICAgICBpZiAoY29udGVudC50cmltKCkgPT0gJycpIHtcclxuICAgICAgICB0aGlzLmxvYWRkaW5nQ29tbWVudCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMub25FcnJvcignS2jDtG5nIMSRxrDhu6NjIMSR4buDIHRy4buRbmcgbuG7mWkgZHVuZyBiw6xuaCBsdeG6rW4uJyk7XHJcbiAgICAgICAgJCgnLmNvbW1lbnQtcmVwbHkuY2hpbGQtY29tbWVudCAuY29udGVudC1jb21tZW50MSAuYm94LWNvbW1lbnQnKS5mb2N1cygpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICAvLyBjb250ZW50ID0gdGhpcy5lc2NhcGVIdG1sKGNvbnRlbnQpO1xyXG4gICAgICBheGlvcy5wb3N0KCcvY29tbWVudHMnLCB7XHJcbiAgICAgICAgJ2NvbW1lbnRhYmxlX2lkJzogY29uZmlnLmNvbW1lbnRhYmxlSWQsXHJcbiAgICAgICAgJ2NvbW1lbnRhYmxlX3R5cGUnOiBjb25maWcuY29tbWVudGFibGVUeXBlLFxyXG4gICAgICAgICdwYWdlX2lkJzogY29uZmlnLnBhZ2VJZCxcclxuICAgICAgICAndXNlcl9pZCc6IHRoaXMuY29tbWVudC51c2VyX2lkLFxyXG4gICAgICAgICdhdXRob3JfbmFtZSc6IHRoaXMuY29tbWVudC5hdXRob3JfbmFtZSxcclxuICAgICAgICAnYXV0aG9yX2VtYWlsJzogdGhpcy5jb21tZW50LmF1dGhvcl9lbWFpbCxcclxuICAgICAgICAnYXV0aG9yX3VybCc6ICcnLFxyXG4gICAgICAgICdjb250ZW50JzogY29udGVudCxcclxuICAgICAgICAncGVybWFsaW5rJzogY29uZmlnLnBlcm1hbGluayxcclxuICAgICAgICAncm9vdF9pZCc6IHRoaXMuY29tbWVudF9pZCxcclxuICAgICAgICAncGFyZW50X2lkJzogdGhpcy5jb21tZW50X2lkLFxyXG4gICAgICAgICdyZXBseSc6IHRydWUsXHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgdGhpcy5sb2FkZGluZ0NvbW1lbnQgPSBmYWxzZTtcclxuICAgICAgICAgIHZhciBkYXRhUmVzcG9uID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgIHZhciBkYXRhUmVwbHkgPSB0aGlzLmRhdGFDb21tZW50KGRhdGFSZXNwb24pO1xyXG4gICAgICAgICAgbGV0IGN1cnJlbnRMZW5ndGggPSAwO1xyXG5cclxuICAgICAgICAgIGxldCBpbmRleENoaWxkID0gdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleF0ucmVwbGllcy5maW5kSW5kZXgoYyA9PiBjLmlkID09PSB0aGlzLmNvbW1lbnRfaWQpO1xyXG5cclxuICAgICAgICAgIGlmICh0aGlzLnZpc2libGVDb21tZW50c0NoaWxkW3RoaXMuY29tbWVudF9pZF0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICBjdXJyZW50TGVuZ3RoID0gdGhpcy52aXNpYmxlQ29tbWVudHNDaGlsZFt0aGlzLmNvbW1lbnRfaWRdLmxlbmd0aDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IG5ld0xlbmd0aFJlcGxpZXNDaGlsZCA9IGN1cnJlbnRMZW5ndGggKyAxO1xyXG4gICAgICAgICAgaWYgKCF0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4XS5yZXBsaWVzW2luZGV4Q2hpbGRdLnJlcGxpZXNfY2hpbGQpIHtcclxuICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuY29tbWVudEZpbHRlcnNbaW5kZXhdLnJlcGxpZXNbaW5kZXhDaGlsZF0sICdyZXBsaWVzX2NoaWxkJywgW10pO1xyXG4gICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICBsZXQgZmlsdGVyRXhpc3QgPSB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4XS5yZXBsaWVzW2luZGV4Q2hpbGRdLnJlcGxpZXNfY2hpbGQuZmlsdGVyKGUgPT4gZS5pZCA9PSBkYXRhUmVwbHkuaWQpLmxlbmd0aDtcclxuICAgICAgICAgIGlmICghZmlsdGVyRXhpc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleF0ucmVwbGllc1tpbmRleENoaWxkXS5yZXBsaWVzX2NoaWxkLnVuc2hpZnQoZGF0YVJlcGx5KTtcclxuICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMudmlzaWJsZUNvbW1lbnRzQ2hpbGQsIHRoaXMuY29tbWVudF9pZCwgdGhpcy5jb21tZW50RmlsdGVyc1tpbmRleF0ucmVwbGllc1tpbmRleENoaWxkXS5yZXBsaWVzX2NoaWxkLnNsaWNlKDAsIG5ld0xlbmd0aFJlcGxpZXNDaGlsZCkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1lbnRzW2luZGV4XS50b3RhbFJlbHB5ID0gdGhpcy5jb21tZW50c1tpbmRleF0ucmVwbGllcy5sZW5ndGg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAkKGlkKS5maW5kKCcuY29tbWVudC1jaGlsZCcpLmh0bWwoJycpO1xyXG4gICAgICAgICAgJChpZCkuaGlkZSgpO1xyXG4gICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludGVydmFsRW1vamlQYXJlbnQoKTtcclxuICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgIHRoaXMubG9hZGRpbmdDb21tZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICB2YXIgZXJyb3JzID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnM7XHJcbiAgICAgICAgICBpZiAoZXJyb3JzLmNvbnRlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkVycm9yKGVycm9ycy5jb250ZW50WzBdKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vbkVycm9yKGVycm9yKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgb25SZXBseVB1c2hlcihyZXNwb25zZSkge1xyXG4gICAgICBsZXQgZGF0YVJlc3BvblJlcGx5ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgbGV0IGRhdGFSZXBseSA9IHRoaXMuZGF0YUNvbW1lbnQoZGF0YVJlc3BvblJlcGx5KTtcclxuICAgICAgbGV0IGluZGV4ID0gdGhpcy5jb21tZW50RmlsdGVycy5maW5kSW5kZXgoZSA9PiBlLmlkID09PSBkYXRhUmVzcG9uUmVwbHkucGFyZW50X2lkKVxyXG4gICAgICBsZXQgZmlsdGVyRXhpc3QgPSB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4XS5yZXBsaWVzLmZpbHRlcihlID0+IGUuaWQgPT0gZGF0YVJlc3BvblJlcGx5LmlkKS5sZW5ndGg7XHJcbiAgICAgIGlmICghZmlsdGVyRXhpc3QpIHtcclxuICAgICAgICB0aGlzLmNvbW1lbnRGaWx0ZXJzW2luZGV4XS5yZXBsaWVzLnVuc2hpZnQoZGF0YVJlcGx5KTtcclxuICAgICAgICB0aGlzLmNvbW1lbnRzW2luZGV4XS50b3RhbFJlbHB5ID0gdGhpcy5jb21tZW50c1tpbmRleF0ucmVwbGllcy5sZW5ndGg7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkYXRhQ29tbWVudChyZXNwb25zZSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGF1dGhvcl9hdmF0YXI6ICdodHRwczovL3ZvcHMudmlldHRlbC52bi9hdmF0YXIvJytyZXNwb25zZS5hdXRob3JfZW1haWwuc3BsaXQoJ0AnKVswXS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgIGF1dGhvcl9lbWFpbDogcmVzcG9uc2UuYXV0aG9yX2VtYWlsLFxyXG4gICAgICAgIGF1dGhvcl9pcDogcmVzcG9uc2UuYXV0aG9yX2lwLFxyXG4gICAgICAgIGF1dGhvcl9uYW1lOiByZXNwb25zZS5hdXRob3JfbmFtZSxcclxuICAgICAgICBhdXRob3JfdXJsOiByZXNwb25zZS5hdXRob3JfdXJsLFxyXG4gICAgICAgIGNvbW1lbnRhYmxlX2lkOiByZXNwb25zZS5jb21tZW50YWJsZV9pZCxcclxuICAgICAgICBjb21tZW50YWJsZV90eXBlOiByZXNwb25zZS5jb21tZW50YWJsZV90eXBlLFxyXG4gICAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlLmNvbnRlbnQsXHJcbiAgICAgICAgY3JlYXRlZF9hdDogcmVzcG9uc2UuY3JlYXRlZF9hdCxcclxuICAgICAgICBpZDogcmVzcG9uc2UuaWQsXHJcbiAgICAgICAgaXNWb3RlZDogZmFsc2UsXHJcbiAgICAgICAgcGFnZV9pZDogcmVzcG9uc2UucGFnZV9pZCxcclxuICAgICAgICBwZXJtYWxpbms6IHJlc3BvbnNlLnBlcm1hbGluayxcclxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICB1cGRhdGVkX2F0OiByZXNwb25zZS51cGRhdGVkX2F0LFxyXG4gICAgICAgIHVzZXI6IHJlc3BvbnNlLnVzZXIsXHJcbiAgICAgICAgdXNlcl9hZ2VudDogcmVzcG9uc2UudXNlcl9hZ2VudCxcclxuICAgICAgICB1c2VyX2lkOiByZXNwb25zZS51c2VyX2lkLFxyXG4gICAgICAgIHZvdGVkOiBbXSxcclxuICAgICAgICByb290X2lkOiByZXNwb25zZS5yb290X2lkLFxyXG4gICAgICAgIHBhcmVudF9pZDogcmVzcG9uc2UucGFyZW50X2lkLFxyXG4gICAgICAgIGxpa2VyZXBseWxvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgIG1lbWJlcjogcmVzcG9uc2UubWVtYmVyXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXRJbnRlcnZhbEVtb2ppUGFyZW50KCkge1xyXG4gICAgICAvLyBJbml0aWFsaXplcyBhbmQgY3JlYXRlcyBlbW9qaSBzZXQgZnJvbSBzcHJpdGUgc2hlZXRcclxuICAgICAgd2luZG93LmVtb2ppUGlja2VyID0gbmV3IEVtb2ppUGlja2VyKHtcclxuICAgICAgICBlbW9qaWFibGVfc2VsZWN0b3I6ICdbZGF0YS1lbW9qaWFibGU9dHJ1ZV0nLFxyXG4gICAgICAgIGFzc2V0c1BhdGg6ICcvdmVuZG9yL2NvbW1lbnRzL2Vtb2ppLXBpY2tlci9saWIvaW1nLycsXHJcbiAgICAgICAgcG9wdXBCdXR0b25DbGFzc2VzOiAnZmFsIGZhLWxhdWdoIGZhIGZhLXNtaWxlLW8nLFxyXG4gICAgICAgIHBvcHVwQnV0dG9uSW1hZ2VDbGFzc2VzOiAnZmEgZmEtaW1hZ2UnLFxyXG4gICAgICB9KTtcclxuICAgICAgLy8gRmluZHMgYWxsIGVsZW1lbnRzIHdpdGggYGVtb2ppYWJsZV9zZWxlY3RvcmAgYW5kIGNvbnZlcnRzIHRoZW0gdG8gcmljaCBlbW9qaSBpbnB1dCBmaWVsZHNcclxuICAgICAgLy8gWW91IG1heSB3YW50IHRvIGRlbGF5IHRoaXMgc3RlcCBpZiB5b3UgaGF2ZSBkeW5hbWljYWxseSBjcmVhdGVkIGlucHV0IGZpZWxkcyB0aGF0IGFwcGVhciBsYXRlciBpbiB0aGUgbG9hZGluZyBwcm9jZXNzXHJcbiAgICAgIC8vIEl0IGNhbiBiZSBjYWxsZWQgYXMgbWFueSB0aW1lcyBhcyBuZWNlc3Nhcnk7IHByZXZpb3VzbHkgY29udmVydGVkIGlucHV0IGZpZWxkcyB3aWxsIG5vdCBiZSBjb252ZXJ0ZWQgYWdhaW5cclxuICAgICAgd2luZG93LmVtb2ppUGlja2VyLmRpc2NvdmVyKCk7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNldE1lbnRpb24oXCIuZW1vamktd3lzaXd5Zy1lZGl0b3JcIik7XHJcbiAgICAgIH0sIDEwMDApO1xyXG5cclxuICAgIH0sXHJcbiAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVhZFVSTChpbnB1dCwgdGFyZ2V0UHJldmlldykge1xyXG4gIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xyXG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHRhcmdldFByZXZpZXcuYXR0cignc3JjJywgZS50YXJnZXQucmVzdWx0KTtcclxuICAgIH07XHJcblxyXG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xyXG4gIH1cclxufVxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZSBsYW5nPVwiY3NzXCI+XHJcbi5ib3gtd3JpdGUtY29tbWVudCAuZm9ybS1ncm91cCB7XHJcbiAgbWF4LWhlaWdodDogbm9uZSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uYm94LXdyaXRlLWNvbW1lbnQucmVwbHkgLmZvcm0tZ3JvdXAge1xyXG4gIG1heC1oZWlnaHQ6IG5vbmUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNvbnRlbnQtY210IC5jbXQtMSB7XHJcbiAgcGFkZGluZy1yaWdodDogMTBweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uY29udGVudC1jbXQgLmF2YXRhci11c2VyIGltZyB7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIHdpZHRoOiA1NXB4O1xyXG4gIGhlaWdodDogNTVweDtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgb2JqZWN0LXBvc2l0aW9uOiBjZW50ZXI7XHJcbn1cclxuXHJcbkBtZWRpYSAobWluLXdpZHRoOiA3NjBweCkge1xyXG4gIC5idG5Db21tZW50TW9iaWxlIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG59XHJcblxyXG5AbWVkaWEgKG1heC13aWR0aDogNzU2cHgpIHtcclxuICAuY210LTEgLmF2YXRhci11c2VyIHtcclxuICAgIGZsZXg6IDAgMCAxMCUgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5jb21tZW50LXJlcGx5IC5hdmF0YXItdXNlciBpbWcsIC5jb250ZW50LWNtdDIgLmNtdC0xIC5hdmF0YXItdXNlciBpbWcsIC5jb250ZW50LWNtdCAuYXZhdGFyLXVzZXIgaW1nIHtcclxuICAgIHdpZHRoOiAzMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBoZWlnaHQ6IDMwcHggIWltcG9ydGFudDtcclxuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gICAgb2JqZWN0LXBvc2l0aW9uOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICAuY29tbWVudC1yZXBseSAuY210LTEgLmF2YXRhci11c2VyIHtcclxuICAgIHdpZHRoOiAxMCU7XHJcbiAgfVxyXG5cclxuICAuY29tbWVudC13ZWJ2aWV3IC5jb21tZW50LWlucHV0IC5jb250ZW50LWNvbW1lbnQge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgYm90dG9tOiAyJTtcclxuICAgIHdpZHRoOiA5OCUgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5idG56b29tQ29tbWVudCB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gIH1cclxuXHJcbiAgLmNvbnRlbnQtY29tbWVudCB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgfVxyXG5cclxuICAudXBsb2FkLWltYWdlIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG5cclxuICAuZW1vamktcGlja2VyLWljb24ge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICB9XHJcblxyXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA3NjBweCkge1xyXG4gICAgLmJveC13cml0ZS1jb21tZW50IC5mb3JtLWdyb3VwIHtcclxuICAgICAgcGFkZGluZy1yaWdodDogNTBweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmJ0bkNvbW1lbnRNb2JpbGUge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogNSU7XHJcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgY29sb3I6ICNlZTAwMzM7XHJcbiAgICB0b3A6IDEwJTtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICB9XHJcblxyXG4gIC5idG5Db21tZW50TW9iaWxlOmZvY3VzIHtcclxuICAgIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcclxuICAgIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDAsIDEyMywgMjU1LCAwLjApO1xyXG4gIH1cclxuXHJcbiAgLnJlcGx5LWlucHV0IC5hdmF0YXItdXNlciB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gIH1cclxuXHJcbiAgLnJlcGx5LWlucHV0IC5jbXQtMSAuY29udGVudC1jb21tZW50IHtcclxuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gIH1cclxuXHJcbiAgLmNvbW1lbnQtaW5wdXQgLmNtdC0xIHtcclxuICAgIHBhZGRpbmctbGVmdDogM3B4ICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAuY29tbWVudC1pbnB1dCAuY210LTEgLmF2YXRhci11c2VyIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG5cclxuICAuY29tbWVudC1pbnB1dCAuY210LTEgLmNvbnRlbnQtY29tbWVudCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgfVxyXG59XHJcblxyXG4uY2xEaXNhYmxlIHtcclxuICBjb2xvcjogI2VlMDAzMyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG5tZW50aW9uX2VtYWlsLCAuYXR3aG8taW5zZXJ0ZWQsIG1lbnRpb25fc21zIHtcclxuICBiYWNrZ3JvdW5kOiAjRUVFO1xyXG4gIHBhZGRpbmc6IDBweCA1cHg7XHJcbn1cclxuXHJcbi5lbW9qaS1tZW51IHtcclxuICBib3R0b206IDg1cHg7XHJcbn1cclxuXHJcbi5jb250ZW50LWNtdCAuY29udGVudC1jb21tZW50MSAuYm94LWNvbW1lbnQge1xyXG4gIGhlaWdodDogNTVweDtcclxuICBsaW5lLWhlaWdodDogMjhweDtcclxufVxyXG5cclxuLmNvbW1lbnQtcGFyZW50IC51cGxvYWQtaW1hZ2UsIC5jb21tZW50LXBhcmVudCAuZW1vamktcGlja2VyLWljb24ge1xyXG4gIHRvcDogMjAlO1xyXG4gIGZvbnQtc2l6ZTogMTdweDtcclxufVxyXG5cclxuLmNvbW1lbnQtcmVwbHkgLmVtb2ppLXBpY2tlci1pY29uIHtcclxuICB0b3A6IDE1JTtcclxuICByaWdodDogMyU7XHJcbiAgZm9udC1zaXplOiAxN3B4O1xyXG59XHJcblxyXG4uY29tbWVudC1yZXBseSAudXBsb2FkLWltYWdlIHtcclxuICB0b3A6IDE1JTtcclxuICByaWdodDogNiU7XHJcbiAgZm9udC1zaXplOiAxN3B4O1xyXG59XHJcblxyXG4uY29tbWVudC1wYXJlbnQgLnVwbG9hZC1pbWFnZSB7XHJcbiAgcmlnaHQ6IDclO1xyXG59XHJcblxyXG4uY29tbWVudC1wYXJlbnQgLmVtb2ppLXBpY2tlci1pY29uIHtcclxuICByaWdodDogNCU7XHJcbn1cclxuXHJcbi5sb2FkLWNtdCBhOmZvY3VzIHtcclxuICBjb2xvcjogI2VlMDAzMyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ucHJldmlld19pbWFnZSB7XHJcbiAgd2lkdGg6IDIwMHB4ICFpbXBvcnRhbnQ7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4ucHJldmlld19pbWFnZSBpbWcge1xyXG4gIHdpZHRoOiAyMDBweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ucHJldmlld19pbWFnZSAuYnRuLWNsb3NlIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgcmlnaHQ6IDBweDtcclxuICB0b3A6IDBweDtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbiAgY29sb3I6ICM5OTk7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4ucHJldmlld19pbWFnZTpob3ZlciAuYnRuLWNsb3NlIHtcclxuICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG4uZmFuY3lib3ggaW1nIHtcclxuICB3aWR0aDogMjUwcHg7XHJcbiAgZGlzcGxheTogaW5oZXJpdDtcclxufVxyXG5cclxuLmluZm8taXRlbXMgYTpob3ZlciwgYTpmb2N1cyB7XHJcbiAgY29sb3I6ICNlZTAwMzM7XHJcbn1cclxuXHJcbi5sb2FkZGluZ19jb21tZW50IHtcclxuICB6LWluZGV4OiA5OTk5OTk7XHJcbiAgbGVmdDogMTVweDtcclxuICB0b3A6IDI3NXB4XHJcbn1cclxuXHJcbiNmaWxsdGVyUmVscHkge1xyXG4gIG1hcmdpbi1sZWZ0OiA3OHB4O1xyXG59XHJcblxyXG4udGltZSBhOmZvY3VzIHtcclxuICBjb2xvcjogI2VlMDAzMyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ubmV3SG90IHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5uZXdIb3Q6aG92ZXIsIC5uZXdIb3Q6Zm9jdXMge1xyXG4gIGNvbG9yOiAjZWUwMDMzICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1pdGVtOmFjdGl2ZSwgLmRyb3Bkb3duLWl0ZW06aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZTAwMzMgIWltcG9ydGFudDtcclxuICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uY29udGVudC1jb21tZW50IHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59XHJcblxyXG4vKiAuY29tbWVudHMteW91LXJlYWQgc3Bhbi5uZXdIb3Qge1xyXG4gICAgY29sb3I6dW5zZXQgIWltcG9ydGFudDtcclxufSAqL1xyXG4uYXZ0IGltZ3tcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbn1cclxuLmJ0bi1pY29uQ29tbWVudCB7XHJcbiAgZGlzcGxheTogbm9uZTtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgei1pbmRleDogMTtcclxuICByaWdodDogMDtcclxuICB0b3A6IDEwJTtcclxufVxyXG5cclxuI2Ryb3BDb21tZW50cyB7XHJcbiAgbGVmdDogdW5zZXQgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNvbnRlbnQtY29tbWVudDpob3ZlciAuYnRuLWljb25Db21tZW50IHtcclxuICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5cclxuLmJ0bi1pY29uRG90cyB7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gIGNvbG9yOiAjQ0NDQkNCO1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxufVxyXG5cclxuLmFjdGl2ZSB7XHJcbiAgY29sb3I6ICNlZTAwMzMgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNvbW1lbnQtcGFyZW50IC5lbW9qaS1waWNrZXItaWNvbiwgLmNvbW1lbnQtcGFyZW50IC51cGxvYWQtaW1hZ2Uge1xyXG4gIHotaW5kZXg6IDA7XHJcbn1cclxuXHJcbi5saWtlX3dlYnZpZXcge1xyXG4gIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNvbW1lbnRzLXlvdS1yZWFkIHtcclxuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgI2VlMDAzMztcclxufVxyXG5cclxuLnZ0Zl9jb21tZW50IC5jb21tZW50cy15b3UtcmVhZCwgLmNvbW1lbnRfd2VidmlldyAuY29tbWVudHMteW91LXJlYWQge1xyXG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjZWUwMDMzO1xyXG59XHJcblxyXG4uYnRuLWNvbW1lbnQge1xyXG4gIGZvbnQtc2l6ZTogMTNweDtcclxuICBiYWNrZ3JvdW5kOiAjZWUwMDMzO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG59XHJcblxyXG4udnRmX2NvbW1lbnQgLmJ0bi1jb21tZW50LCAuY29tbWVudF93ZWJ2aWV3IC5idG4tY29tbWVudCB7XHJcbiAgZm9udC1zaXplOiAxM3B4O1xyXG4gIGJhY2tncm91bmQ6ICNlZTAwMzM7XHJcbiAgY29sb3I6ICNmZmY7XHJcbn1cclxuXHJcbi5jbXQtYW1vdW50IGE6aG92ZXIge1xyXG4gIGNvbG9yOiAjZWUwMDMzO1xyXG59XHJcblxyXG4uZm9sbG93Q29sb3Ige1xyXG4gIGNvbG9yOiAjZWUwMDMzO1xyXG59XHJcblxyXG4udnRmX2NvbW1lbnQgLmNtdC1hbW91bnQgYTpob3ZlciwgLmNvbW1lbnRfd2VidmlldyAuY210LWFtb3VudCBhOmhvdmVyIHtcclxuICBjb2xvcjogI2VlMDAzMztcclxufVxyXG5cclxuLnZ0Zl9jb21tZW50IC5mb2xsb3dDb2xvciwgLmNvbW1lbnRfd2VidmlldyAuZm9sbG93Q29sb3Ige1xyXG4gIGNvbG9yOiAjZWUwMDMzO1xyXG59XHJcblxyXG46OnYtZGVlcCAuY210LTEge1xyXG4gIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcclxuICBtYXJnaW4tdG9wOiAwICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjo6di1kZWVwIC5jb250ZW50LWNtdDIge1xyXG4gIG1hcmdpbi1sZWZ0OiAwcHggIWltcG9ydGFudDtcclxufVxyXG5AbWVkaWEgKG1heC13aWR0aDogNTc1cHgpIHtcclxuICAuZW1vamktcGlja2VyLWljb24ge1xyXG4gICAgZGlzcGxheTogbm9uZSFpbXBvcnRhbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWVkaWEgKG1heC13aWR0aDogNzYwcHgpXHJcbntcclxuICAuZW1vamktcGlja2VyLWljb24ge1xyXG4gICAgZGlzcGxheTogYmxvY2shaW1wb3J0YW50O1xyXG4gIH1cclxufVxyXG4uZW1vamktcGlja2VyLWljb24ge1xyXG4gIHJpZ2h0OiA3JSAhaW1wb3J0YW50O1xyXG59XHJcbjwvc3R5bGU+XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */</style><style type="text/css">.fancybox-margin{margin-right:0px;}</style></head>
<body><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="position: absolute; width: 0; height: 0" aria-hidden="true" id="__SVG_SPRITE_NODE__"><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="chevron-down"><path fill="currentColor" d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="chevron-up"><path fill="currentColor" d="M0 16.67l2.829 2.83 9.175-9.339 9.167 9.339 2.829-2.83-11.996-12.17z"></path></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="menu"><path fill="currentColor" d="M12 18c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3zm0-9c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3zm0-9c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3z"></path></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="minus"><path fill="currentColor" d="M0 10h24v4h-24z"></path></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="plus"><path fill="currentColor" d="M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"></path></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="share"><path fill="currentColor" d="M14 18l10-7.088-10-6.912v3.042s-11.618 2.583-14 12.958c5.072-5.431 14-5.218 14-5.218v3.218z"></path></symbol></svg>
<meta name="csrf-token" content="L8bdHrQ5DxSsfosjUMHm32Jyr2l7Qs6TaeEltUpa">
<div id="comment" class="vtf_comment"><section id="comment-section"><div class="wrap-comment"><div class="comment-pri"><span class="amount-like mr-5"><a href="javascript:void(0)" class="changeText"><i class="far fa-thumbs-up"></i> <span>Thích</span> <!----> <!----></a></span> <span class="amount-comment"><a href="javascript:void(0)" class="btn-focus"><i class="fas fa-comment-dots rotate"></i>
          &nbsp; Bình luận
        </a></span> <div class="head-comment"><h3 class="title">Ý kiến bạn đọc</h3> <!----></div> <div class="control-comment"><div class="num-reaction"><i class="fas fa-thumbs-up"></i> 5 người thích bài viết</div> <!----></div> <div class="load-cmt"><!----> <!----></div> <div class="list-comment comment_head"></div> <!----> <div class="action-comment comment-area"><div class="box-write-comment cmt-1"><span class="avt"><img onerror="this.src=&#39;/default-avatar.jpg&#39;" src="./default-avatar.jpg"></span> <div class="form-group"><textarea placeholder="Ý kiến bạn đọc..." data-emojiable="converted" data-emoji-input="unicode" class="box-comment" data-id="6520e36b-aa68-4265-a511-5e514ef73165" data-type="original-input" style="display: none;"></textarea><div class="emoji-wysiwyg-editor box-comment" data-id="6520e36b-aa68-4265-a511-5e514ef73165" data-type="input" placeholder="Ý kiến bạn đọc..." contenteditable="true"></div><div class="emoji-menu" data-id="6520e36b-aa68-4265-a511-5e514ef73165" data-type="menu" style="display: none;"><div class="emoji-items-wrap1"><table class="emoji-menu-tabs"><tbody><tr><td><a class="emoji-menu-tab icon-recent-selected"></a></td><td><a class="emoji-menu-tab icon-smile"></a></td><td><a class="emoji-menu-tab icon-flower"></a></td><td><a class="emoji-menu-tab icon-bell"></a></td><td><a class="emoji-menu-tab icon-car"></a></td><td><a class="emoji-menu-tab icon-grid"></a></td></tr></tbody></table><div class="emoji-items-wrap mobile_scrollable_wrap"><div class="emoji-items"><a href="javascript:void(0)" title=":joy:"><img src="./blank.gif" class="img emoji-joy" alt=":joy:"><span class="label">:joy:</span></a><a href="javascript:void(0)" title=":kissing_heart:"><img src="./blank.gif" class="img emoji-kissing_heart" alt=":kissing_heart:"><span class="label">:kissing_heart:</span></a><a href="javascript:void(0)" title=":heart:"><img src="./blank.gif" class="img emoji-heart" alt=":heart:"><span class="label">:heart:</span></a><a href="javascript:void(0)" title=":heart_eyes:"><img src="./blank.gif" class="img emoji-heart_eyes" alt=":heart_eyes:"><span class="label">:heart_eyes:</span></a><a href="javascript:void(0)" title=":blush:"><img src="./blank.gif" class="img emoji-blush" alt=":blush:"><span class="label">:blush:</span></a><a href="javascript:void(0)" title=":grin:"><img src="./blank.gif" class="img emoji-grin" alt=":grin:"><span class="label">:grin:</span></a><a href="javascript:void(0)" title=":+1:"><img src="./blank.gif" class="img emoji-plus1" alt=":+1:"><span class="label">:+1:</span></a><a href="javascript:void(0)" title=":relaxed:"><img src="./blank.gif" class="img emoji-relaxed" alt=":relaxed:"><span class="label">:relaxed:</span></a><a href="javascript:void(0)" title=":pensive:"><img src="./blank.gif" class="img emoji-pensive" alt=":pensive:"><span class="label">:pensive:</span></a><a href="javascript:void(0)" title=":smile:"><img src="./blank.gif" class="img emoji-smile" alt=":smile:"><span class="label">:smile:</span></a><a href="javascript:void(0)" title=":sob:"><img src="./blank.gif" class="img emoji-sob" alt=":sob:"><span class="label">:sob:</span></a><a href="javascript:void(0)" title=":kiss:"><img src="./blank.gif" class="img emoji-kiss" alt=":kiss:"><span class="label">:kiss:</span></a><a href="javascript:void(0)" title=":unamused:"><img src="./blank.gif" class="img emoji-unamused" alt=":unamused:"><span class="label">:unamused:</span></a><a href="javascript:void(0)" title=":flushed:"><img src="./blank.gif" class="img emoji-flushed" alt=":flushed:"><span class="label">:flushed:</span></a><a href="javascript:void(0)" title=":stuck_out_tongue_winking_eye:"><img src="./blank.gif" class="img emoji-stuck_out_tongue_winking_eye" alt=":stuck_out_tongue_winking_eye:"><span class="label">:stuck_out_tongue_winking_eye:</span></a><a href="javascript:void(0)" title=":see_no_evil:"><img src="./blank.gif" class="img emoji-see_no_evil" alt=":see_no_evil:"><span class="label">:see_no_evil:</span></a><a href="javascript:void(0)" title=":wink:"><img src="./blank.gif" class="img emoji-wink" alt=":wink:"><span class="label">:wink:</span></a><a href="javascript:void(0)" title=":smiley:"><img src="./blank.gif" class="img emoji-smiley" alt=":smiley:"><span class="label">:smiley:</span></a><a href="javascript:void(0)" title=":cry:"><img src="./blank.gif" class="img emoji-cry" alt=":cry:"><span class="label">:cry:</span></a><a href="javascript:void(0)" title=":stuck_out_tongue_closed_eyes:"><img src="./blank.gif" class="img emoji-stuck_out_tongue_closed_eyes" alt=":stuck_out_tongue_closed_eyes:"><span class="label">:stuck_out_tongue_closed_eyes:</span></a><a href="javascript:void(0)" title=":scream:"><img src="./blank.gif" class="img emoji-scream" alt=":scream:"><span class="label">:scream:</span></a><a href="javascript:void(0)" title=":rage:"><img src="./blank.gif" class="img emoji-rage" alt=":rage:"><span class="label">:rage:</span></a><a href="javascript:void(0)" title=":smirk:"><img src="./blank.gif" class="img emoji-smirk" alt=":smirk:"><span class="label">:smirk:</span></a><a href="javascript:void(0)" title=":disappointed:"><img src="./blank.gif" class="img emoji-disappointed" alt=":disappointed:"><span class="label">:disappointed:</span></a><a href="javascript:void(0)" title=":sweat_smile:"><img src="./blank.gif" class="img emoji-sweat_smile" alt=":sweat_smile:"><span class="label">:sweat_smile:</span></a><a href="javascript:void(0)" title=":kissing_closed_eyes:"><img src="./blank.gif" class="img emoji-kissing_closed_eyes" alt=":kissing_closed_eyes:"><span class="label">:kissing_closed_eyes:</span></a><a href="javascript:void(0)" title=":speak_no_evil:"><img src="./blank.gif" class="img emoji-speak_no_evil" alt=":speak_no_evil:"><span class="label">:speak_no_evil:</span></a><a href="javascript:void(0)" title=":relieved:"><img src="./blank.gif" class="img emoji-relieved" alt=":relieved:"><span class="label">:relieved:</span></a><a href="javascript:void(0)" title=":grinning:"><img src="./blank.gif" class="img emoji-grinning" alt=":grinning:"><span class="label">:grinning:</span></a><a href="javascript:void(0)" title=":yum:"><img src="./blank.gif" class="img emoji-yum" alt=":yum:"><span class="label">:yum:</span></a><a href="javascript:void(0)" title=":ok_hand:"><img src="./blank.gif" class="img emoji-ok_hand" alt=":ok_hand:"><span class="label">:ok_hand:</span></a><a href="javascript:void(0)" title=":neutral_face:"><img src="./blank.gif" class="img emoji-neutral_face" alt=":neutral_face:"><span class="label">:neutral_face:</span></a><a href="javascript:void(0)" title=":confused:"><img src="./blank.gif" class="img emoji-confused" alt=":confused:"><span class="label">:confused:</span></a></div></div></div></div><i class="upload-image fal fa-image fa fa-image" title="Đính kèm một ảnh" aria-hidden="true"></i><input type="file" accept=".png, .jpg, .jpeg, .bmp" class="file-upload" name="file" title="Đính kèm một ảnh" style="visibility: hidden;"><i title="Đính kèm emoji" class="emoji-picker-icon emoji-picker fal fa-laugh fa fa-smile-o" data-id="6520e36b-aa68-4265-a511-5e514ef73165" data-type="picker"></i> <!----> <div class="action-comment"><button class="btn-send item"><i class="fas fa-paper-plane"></i></button></div></div></div> <div class="preview_image" style="margin-top: 10px; margin-left: 85px; display: none;"><img src="https://viettelfamily.com/comments?permalink=https%3A%2F%2Fviettelfamily.com%2Fnews%2Fchuyen-dich-so%2Fnetmind-2o-tro-thu-dac-luc-cho-luc-luong-ky-thuat-vtnet&amp;page_id=54812&amp;commentable_id=54812&amp;commentable_type=Dcore.Blog.Models.Post&amp;style=light" width="120"> <i aria-hidden="true" class="btn-close fa fa-times"></i></div></div></div></div></section></div>

<script>window.config = {"admin_dir":"vtf_cms","canPost":true,"media_embed":true,"number_comment":"3","canModerate":false,"loggedIn":true,"per_page":15,"perPageChild":15,"perPageCommentChild":15,"captchaGuest":false,"captchaAuth":false,"maxLength":10000,"defaultOrder":"M\u1edbi nh\u1ea5t","allowReplies":true,"allowRepliesChildren":true,"allowVotes":true,"orderOptions":["latest","best"],"locale":"vi","translations":{"btn_submit_fillter":"T\u00ecm Ki\u1ebfm","dashboard_title":"B\u00ecnh Lu\u1eadn","status_all":"T\u1ea5t c\u1ea3","status_pending":"\u0110ang gi\u1ea3i quy\u1ebft","status_approved":"\u0110\u01b0\u1ee3c ch\u1ea5p nh\u1eadn","status_spam":"R\u00e1c","status_trash":"X\u00f3a","select_bulk_action":"Ch\u1ecdn h\u00e0nh \u0111\u1ed9ng","bulk_action_approve":"Ch\u1ea5p thu\u1eadn","bulk_action_unapprove":"Kh\u00f4ng ch\u1ea5p thu\u1eadn","bulk_action_spam":"\u0110\u00e1nh d\u1ea5u l\u00e0 Spam","bulk_action_delete":"X\u00f3a v\u0129nh vi\u1ec5n","bulk_action_trash":"Chuy\u1ec3n \u0111\u1ebfn r\u00e1c","apply_bulk_action":"\u0110\u1ed3ng \u00fd","order_latest":"S\u1eafp x\u1ebfp theo m\u1edbi nh\u1ea5t","order_oldest":"S\u1eafp x\u1ebfp theo c\u0169 nh\u1ea5t","column_author":"T\u00e1c gi\u1ea3","column_comment":"B\u00ecnh lu\u1eadn","column_in_response":"\u0110\u00e1p l\u1ea1i","comments_count":"kh\u00f4ng c\u00f3 b\u00ecnh lu\u1eadn | 1 b\u00ecnh lu\u1eadn | {count} b\u00ecnh lu\u1eadn","next":"Ti\u1ebfp theo","previous":"Tr\u01b0\u1edbc","submitted_on":"\u0110\u00e3 \u0111\u01b0\u1ee3c g\u1eedi","in_reply_to":"Tr\u1ea3 l\u1eddi","no_comments":"Kh\u00f4ng b\u00ecnh lu\u1eadn.","delete_modal_title":"X\u00f3a b\u00ecnh lu\u1eadn","delete_modal_text":"B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n x\u00f3a <span style=\"color: #d33;\">{count}<\/span> b\u00ecnh lu\u1eadn ?","delete_modal_confirm":"C\u00f3, x\u00f3a","delete_modal_cancel":"H\u1ee7y","edit_comment_modal_title":"S\u1eeda b\u00ecnh lu\u1eadn","modal_save_changes":"L\u01b0u thay \u0111\u1ed5i","author_name":"T\u00ean t\u00e1c gi\u1ea3","author_email":"Email c\u1ee7a t\u00e1c gi\u1ea3","author_url":"Url c\u1ee7a t\u00e1c gi\u1ea3","comment_status":"Tr\u1ea1ng th\u00e1i","comment_content":"N\u1ed9i dung","write_tab":"Vi\u1ebft","preview_tab":"Xem tr\u01b0\u1edbc","loading_preview":"\u0110ang t\u1ea3i b\u1ea3n xem tr\u01b0\u1edbc ...","no_preview":"Kh\u00f4ng c\u00f3 g\u00ec \u0111\u1ec3 xem tr\u01b0\u1edbc","comment_saved":"C\u00e1c thay \u0111\u1ed5i c\u1ee7a b\u1ea1n \u0111\u00e3 \u0111\u01b0\u1ee3c l\u01b0u l\u1ea1i.","reset_settings_modal_title":"\u0110\u1eb7t l\u1ea1i c\u00e0i \u0111\u1eb7t","reset_settings_modal_text":"B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n \u0111\u1eb7t l\u1ea1i t\u1ea5t c\u1ea3 c\u00e1c c\u00e0i \u0111\u1eb7t v\u1ec1 gi\u00e1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh c\u1ee7a ch\u00fang kh\u00f4ng?","reset_settings_modal_confirm":"C\u00f3, \u0111\u1eb7t l\u1ea1i","reset_settings_modal_cancel":"H\u1ee7y","action_approve":"Ch\u1ea5p nh\u1eadn","action_unapprove":"Kh\u00f4ng ch\u1ea5p nh\u1eadn","action_spam":"R\u00e1c","action_delete":"X\u00f3a v\u0129nh vi\u1ec5n","action_trash":"X\u00f3a","action_edit":"S\u1eeda","view_page":"Xem trang","filter_by_page":"L\u1ecdc b\u00ecnh lu\u1eadn c\u1ee7a trang n\u00e0y","clear_page_filter":"X\u00f3a b\u1ed9 l\u1ecdc trang","settings_save_message":"C\u00e1c thay \u0111\u1ed5i c\u1ee7a b\u1ea1n \u0111\u00e3 \u0111\u01b0\u1ee3c l\u01b0u l\u1ea1i","settings_save_modal_title":"L\u01b0u th\u00e0nh c\u00f4ng","advance_edit":"Ch\u1ec9nh s\u1eeda tr\u01b0\u1edbc","awaiting_moderation":"B\u00ecnh lu\u1eadn c\u1ee7a b\u1ea1n \u0111ang ch\u1edd ki\u1ec3m duy\u1ec7t.","cancel_button":"H\u1ee7y","confirm_delete":"B\u1ea1n c\u00f3 ch\u1eafc l\u00e0 b\u1ea1n mu\u1ed1n xo\u00e1 b\u00ecnh lu\u1eadn n\u00e0y kh\u00f4ng?","confirm_report":"B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n b\u00e1o c\u00e1o nh\u1eadn x\u00e9t n\u00e0y ?","delete_button":"X\u00f3a b\u00ecnh lu\u1eadn","downvote":"B\u1ecf th\u00edch","edit_button":"Ch\u1ec9nh s\u1eeda","error_401":"Kh\u00f4ng x\u00e1c th\u1ef1c.","error_403":"H\u00e0nh \u0111\u1ed9ng n\u00e0y l\u00e0 tr\u00e1i ph\u00e9p.","error_404":"Kh\u00f4ng t\u00ecm th\u1ea5y","error_500":"U\u1ea7y, h\u00ecnh nh\u01b0 c\u00f3 g\u00ec \u0111\u00f3 kh\u00f4ng \u0111\u00fang.","error_delete":"B\u1ea1n kh\u00f4ng c\u00f2n c\u00f3 th\u1ec3 x\u00f3a b\u00ecnh lu\u1eadn n\u00e0y.","error_edit":"B\u1ea1n kh\u00f4ng c\u00f2n c\u00f3 th\u1ec3 ch\u1ec9nh s\u1eeda b\u00ecnh lu\u1eadn n\u00e0y.","leave_a_comment":"\u0110\u1ec3 l\u1ea1i m\u1ed9t b\u00ecnh lu\u1eadn ...","login_required":"B\u1ea1n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 g\u1eedi b\u00ecnh lu\u1eadn.","login_required2":"B\u1ea1n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 b\u00ecnh ch\u1ecdn!","post_button":"B\u00ecnh lu\u1eadn","report_button":"B\u00e1o c\u00e1o","reported":"C\u00e1c b\u00ecnh lu\u1eadn \u0111\u00e3 \u0111\u01b0\u1ee3c b\u00e1o c\u00e1o.","sort_by":"S\u1eafp x\u1ebfp theo {option}","sort_option_best":"Quan t\u00e2m nh\u1ea5t","sort_option_latest":"M\u1edbi nh\u1ea5t","sort_option_oldest":"C\u0169 nh\u1ea5t","update_button":"C\u1eadp nh\u1eadt","upvote":"Th\u00edch","your_comment":"B\u00ecnh lu\u1eadn c\u1ee7a ban ...","reply_button":"Tr\u1ea3 l\u1eddi","timeago":["V\u1eeba xong",["%s second ago","%s gi\u00e2y tr\u01b0\u1edbc"],["%s minute ago","%s ph\u00fat tr\u01b0\u1edbc"],["%s hour ago","%s gi\u1edd tr\u01b0\u1edbc"],["%s day ago","%s ng\u00e0y tr\u01b0\u1edbc"],["%s week ago","%s tu\u1ea7n tr\u01b0\u1edbc"],["%s month ago","%s th\u00e1ng tr\u01b0\u1edbc"],["%s year ago","%s n\u0103m tr\u01b0\u1edbc"]]},"permalink":"https:\/\/viettelfamily.com\/news\/chuyen-dich-so\/netmind-2o-tro-thu-dac-luc-cho-luc-luong-ky-thuat-vtnet","page":1,"target":0,"pageId":"54812","commentableId":"54812","commentableType":"Dcore.Blog.Models.Post","recaptchaKey":"6Lf5J3sUAAAAAFySmCPOly0Mzc5aQs5i-pWWmkTc","emoji":true,"pageHash":"3f711a4f7e811694f4d0bd5f6c9e1681","broadcast":false,"broadcasting":{"driver":"pusher","pusher":{"key":"pusher_vtf","cluster":null,"encrypted":true}},"data":{"comments":{"comments":[],"pagination":{"total":0,"per_page":15,"current_page":1,"last_page":1,"next_page":null,"prev_page":null,"first_adjacent_page":1,"last_adjacent_page":1},"total":0},"postlike":[{"id":338386,"user_id":440580,"likeable_id":54812,"likeable_type":"Dcore\\Blog\\Models\\Post","created_at":"2025-03-28 18:28:16","updated_at":"2025-03-28 18:28:16","web_id":null},{"id":338390,"user_id":8185,"likeable_id":54812,"likeable_type":"Dcore\\Blog\\Models\\Post","created_at":"2025-03-28 22:28:56","updated_at":"2025-03-28 22:28:56","web_id":null},{"id":338402,"user_id":564138,"likeable_id":54812,"likeable_type":"Dcore\\Blog\\Models\\Post","created_at":"2025-03-28 22:33:29","updated_at":"2025-03-28 22:33:29","web_id":null},{"id":338411,"user_id":5514,"likeable_id":54812,"likeable_type":"Dcore\\Blog\\Models\\Post","created_at":"2025-03-28 22:34:59","updated_at":"2025-03-28 22:34:59","web_id":null},{"id":338413,"user_id":25256,"likeable_id":54812,"likeable_type":"Dcore\\Blog\\Models\\Post","created_at":"2025-03-28 23:08:42","updated_at":"2025-03-28 23:08:42","web_id":null}],"countlikepost":5,"user":{"id":536449,"employee_id":900110584,"username":"454581","name":"L\u00ea Ng\u1ecdc Thi\u1ec7n","email":"THIENLN4@VIETTEL.COM.VN","avatar":"default-avatar.jpg","bank":null,"bank_branch":null,"account_number":null,"msisdn":null,"created_at":"2023-09-12 19:03:14","updated_at":"2024-11-09 02:04:49","dob":"2001-12-27","phone_number":"0326362771","confirmed_at":null,"is_active":1,"path":"","organization_name":"T\u1ed5ng c\u00f4ng ty M\u1ea1ng l\u01b0\u1edbi Viettel","position_name":"K\u1ef9 s\u01b0 Tr\u00ed tu\u1ec7 Nh\u00e2n t\u1ea1o","position_id":608529,"department":"Trung t\u00e2m Chuy\u1ec3n \u0111\u1ed5i s\u1ed1 - TCT VTNET","locked_time":null,"pass_update_at":null,"is_lock_signin":null,"last_check_time":null,"super_user":null,"manage_super":null,"completed_profile":null,"interest":null,"employee_code":"454581","group_name":"Ph\u00f2ng S\u1ea3n ph\u1ea9m Ph\u00e2n t\u00edch D\u1eef li\u1ec7u","position_type":null,"place_of_birth":null,"personal_id_number":null,"personal_id_issued_place":null,"personal_id_issued_date":null,"party_admission_place":null,"party_admission_date":null,"last_login":null,"status_syn":2,"facebook_link":"","google_link":"","gender":1,"address":"","author":null,"author_type":"VT","tax_code":null,"identification_number":null,"organization_id":"9033893","user_sso_id":null}}};</script>

<script src="./jquery.emojiarea.js.download"></script>
<script src="./config.js.download"></script>
<script src="./util.js.download"></script>
<script src="./jquery.emojiarea.js.download"></script>
<script src="./emoji-picker.js.download"></script>
<script src="./jquery.emojiarea.js.download"></script>
<script src="./emoji-picker.js.download"></script>
<script>
    $(function () {
        // Initializes and creates emoji set from sprite sheet
        window.emojiPicker = new EmojiPicker({
            emojiable_selector: '[data-emojiable=true]',
            assetsPath: '/vendor/comments/emoji-picker/lib/img/',
            popupButtonClasses: 'fal fa-laugh fa fa-smile-o',
            popupButtonImageClasses: 'fa fa-image',
        });
        // Finds all elements with `emojiable_selector` and converts them to rich emoji input fields
        // You may want to delay this step if you have dynamically created input fields that appear later in the loading process
        // It can be called as many times as necessary; previously converted input fields will not be converted again
        window.emojiPicker.discover();
    });
</script>

<script src="./jquery.caret.js.download"></script>
<script src="./jquery.atwho.js.download"></script>
<script src="./custom.js.download"></script>
<link rel="stylesheet" href="./jquery.atwho.min.css">

    <script src="./app.js.download"></script>


<script type="text/javascript">
    setTimeout(function () {
        setMention('.emoji-wysiwyg-editor');
        // $('.lazy').lazy();
    }, 1000);
</script>

<script src="./polyfill.min.js.download"></script>
<script src="./popper.min.js.download"></script>
<script src="./bootstrap(1).js.download"></script>
<script type="text/javascript" src="./jquery.fancybox.js.download"></script>
<script src="./config.js.download"></script>
<script src="./util.js.download"></script>

<script>
    $('[data-fancybox]').fancybox({
        afterLoad: function (instance, current) {
            var pixelRatio = window.devicePixelRatio || 1;

            if (pixelRatio > 1.5) {
                current.width = current.width / pixelRatio;
                current.height = current.height / pixelRatio;
            }
        },

    });
</script>
<style>
    body {
        padding: 0px !important;
    }
    .atwho-view {
        position: inherit !important;
    }
    .content-comment1 span .atwho-inserted{
        /*margin-right: 10px;*/
        color: dodgerblue;
        background-color: white;
    }
    .atwho-view{
        margin-top: -50px!important;
    }
    .atwho-inserted{
        padding: 0 4px 0px 0px !important;
    }
    .atwho-inserted{
        position: relative;
    }
    .comment_box{
        background: white;
        width: 350px;
        box-shadow: 0px 0px 5px 5px rgba(0, 0, 0, 0.3);
        padding: 5px;
        border-radius: 10px;
    }

    .box-infor-tag{
        padding: 15px;
    }

    .box-right-tag{
        margin-left: 10px;
    }

    .box-infor-tag img{
        height: 55px;
        width: 55px;
        border-radius: 50%;
        margin-right: 8px;
        margin-top: 4px;
        float: left;
    }

    .name-tag{
        font-size: 16px;
        font-weight: 700;
    }
    .box-btn-tag{
        margin-top: 10px;
    }
    .all-tag{
        display: none;
    }
    .carer-tag,.position-tag{
        color: #636363f2;
        font-size: 14px;
        font-weight: 500;
    }

    .atwho-inserted a{
        color: #2673B4;
    }

    #comment{
        padding-bottom: 60px;
    }
    .tchat_icon{
        margin-right:0px !important;
        width: 60% !important;
        height: 40% !important;
    }
    .temail_icon{
        margin-right:0px !important;
        width: 60% !important;
        height: 40% !important;
    }
    @media  only screen and (max-width: 480px){
        .comment_box{
            width: 300px!important;
        }
        .all-tag{
            left: -11px !important;
        }
        .atwho-inserted{
            position: unset;
        }
        .ct .desc{
            position: relative;
        }
    }
</style>
<script>
    function bigImg(x) {
        $(x).css('display', 'none');
    }
    function normalImg(x) {
        $(x).css('display', 'none');
    }
    function showInforTag(a){
        $(a).css('display', 'none');
        // fix click chat star 4/3/2024
        // click chat vops: open new tab
        var btnVopsInfo = $(a).find('.btn-vops');
        if (!btnVopsInfo.data('clicked')) {
            btnVopsInfo.data('clicked', true);
            btnVopsInfo.click(function() {
                var link_href_vops = $(a).find('.box-btn-tag a').eq(0).attr('href');
                if (link_href_vops) {
                    window.open(link_href_vops, '_blank');
                }
                else {
                    console.log('link Vops error!');
                }
            });
        }
        // click email: open new tab
        var btnEmailInfo = $(a).find('.btn-email');
        if (!btnEmailInfo.data('clicked')) {
            btnEmailInfo.data('clicked', true);
            btnEmailInfo.click(function() {
                var link_href_email = $(a).find('.box-btn-tag a').eq(1).attr('href');
                if (link_href_email) {
                    window.open(link_href_email, '_blank');
                }
                else {
                    console.log('link Email error!');
                }
            });
        }
    }
    function hideInforTag(a){
        $(a).css('display', 'none');
    }

    $(".atwho-inserted a").click(function(e) {
        e.stopPropagation();
    });

    $('.atwho-inserted a').on("mousemove", function (event) {
        const mouseX = event.clientX;
        const screenWidth = window.innerWidth;
        console.log("width", screenWidth);

        if (mouseX > screenWidth / 2) {
            $('.all-tag').css('left', '-252px');
        } else {
            $('.all-tag').css('left', '0');
        }
    });
</script>


<div style="clear: both; display: block;"></div><div class="atwho-container"><div id="atwho-ground-866f137b1743258779245"><div class="atwho-view" id="at-view-64"><div class="atwho-header">Kết quả tìm kiếm&nbsp;&nbsp;<small>&nbsp;↑&nbsp;↓ &nbsp;&nbsp; Enter để chọn &nbsp;&nbsp; Esc để thoát</small></div><ul class="atwho-view-ul"></ul></div></div><div id="atwho-ground-13c8d7881743258779246"><div class="atwho-view" id="at-view-35"><div class="atwho-header">Kết quả tìm kiếm&nbsp;&nbsp;<small>&nbsp;↑&nbsp;↓ &nbsp;&nbsp; Enter để chọn &nbsp;&nbsp; Esc để thoát</small></div><ul class="atwho-view-ul"></ul></div></div></div></body></html>